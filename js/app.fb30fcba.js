(function(){"use strict";var e={8604:function(e,t,a){var s=a(3751),r=a(641);const n={class:"main-layout"};function i(e,t,a,s,i,l){const o=(0,r.g2)("NavBar"),d=(0,r.g2)("NetworkHandler"),u=(0,r.g2)("TaskFilter"),c=(0,r.g2)("KanbanBoard"),m=(0,r.g2)("SettingsEdit"),k=(0,r.g2)("LoginForm"),g=(0,r.g2)("StatisticsTeam"),p=(0,r.g2)("TaskAuction"),h=(0,r.g2)("TaskInbox"),f=(0,r.g2)("TaskEdit"),b=(0,r.g2)("v-container"),v=(0,r.g2)("AppFooter"),T=(0,r.g2)("v-main"),y=(0,r.g2)("v-app");return(0,r.uX)(),(0,r.Wv)(y,null,{default:(0,r.k6)((()=>[(0,r.bF)(o,{taskList:i.taskList,loginUser:i.loginUser,"onUpdate:currentPage":t[0]||(t[0]=e=>i.currentPage=e),onCreateNewTask:l.handleCreateNewTask},null,8,["taskList","loginUser","onCreateNewTask"]),(0,r.bF)(d,{networkRequests:i.networkRequests,"onUpdate:loginUser":t[1]||(t[1]=e=>i.loginUser=e),"onUpdate:teamData":t[2]||(t[2]=e=>i.teamData=e),"onUpdate:taskStorage":t[3]||(t[3]=e=>i.taskStorage=e),"onUpdate:teams":t[4]||(t[4]=e=>i.teams=e),"onUpdate:users":t[5]||(t[5]=e=>i.users=e),"onUpdate:currentPage":t[6]||(t[6]=e=>i.currentPage=e),"onUpdate:networkRequests":l.pushNetworkRequests,onClearNetworkRequests:t[7]||(t[7]=()=>i.networkRequests=[])},null,8,["networkRequests","onUpdate:networkRequests"]),t[8]||(t[8]=(0,r.Lk)("button",{id:"install-button",style:{display:"none"}},"Install App",-1)),(0,r.bF)(T,null,{default:(0,r.k6)((()=>[(0,r.bF)(b,{style:{"max-width":"100vw","min-width":"90vw"}},{default:(0,r.k6)((()=>[(0,r.Lk)("div",n,[i.taskStorage&&(l.isCurrentPage("main")||l.isCurrentPage("inbox")||l.isCurrentPage("auction")||l.isCurrentPage("reportsT"))?((0,r.uX)(),(0,r.Wv)(u,{key:0,taskStorage:i.taskStorage,users:i.users,teams:i.teams,loginUser:i.loginUser,"onUpdate:taskList":l.updateTaskList},null,8,["taskStorage","users","teams","loginUser","onUpdate:taskList"])):(0,r.Q3)("",!0),l.isCurrentPage("main")&&i.taskList?((0,r.uX)(),(0,r.Wv)(c,{key:1,taskList:i.taskList,users:i.users,teams:i.teams,"onUpdate:isEditingTask":l.updateIsEditingTask,"onUpdate:networkRequests":l.pushNetworkRequests},null,8,["taskList","users","teams","onUpdate:isEditingTask","onUpdate:networkRequests"])):(0,r.Q3)("",!0),l.isCurrentPage("teams")?((0,r.uX)(),(0,r.Wv)(m,{key:2,loginUser:i.loginUser,networkRequests:i.networkRequests,teams:i.teams,"onUpdate:networkRequests":l.pushNetworkRequests},null,8,["loginUser","networkRequests","teams","onUpdate:networkRequests"])):(0,r.Q3)("",!0),l.isCurrentPage("login")?((0,r.uX)(),(0,r.Wv)(k,{key:3,loginUser:i.loginUser,currentPage:i.currentPage,"onUpdate:networkRequests":l.pushNetworkRequests},null,8,["loginUser","currentPage","onUpdate:networkRequests"])):(0,r.Q3)("",!0),l.isCurrentPage("reportsT")?((0,r.uX)(),(0,r.Wv)(g,{key:4,tasks:i.taskList,users:i.users,"onUpdate:networkRequests":l.pushNetworkRequests},null,8,["tasks","users","onUpdate:networkRequests"])):(0,r.Q3)("",!0),l.isCurrentPage("auction")?((0,r.uX)(),(0,r.Wv)(p,{key:5,loginUser:i.loginUser,tasks:i.taskStorage,users:i.users,"onUpdate:networkRequests":l.pushNetworkRequests},null,8,["loginUser","tasks","users","onUpdate:networkRequests"])):(0,r.Q3)("",!0),l.isCurrentPage("inbox")?((0,r.uX)(),(0,r.Wv)(h,{key:6,loginUser:i.loginUser,tasks:i.taskStorage,users:i.users,teams:i.teams,"onUpdate:isEditingTask":l.updateIsEditingTask,"onUpdate:networkRequests":l.pushNetworkRequests},null,8,["loginUser","tasks","users","teams","onUpdate:isEditingTask","onUpdate:networkRequests"])):(0,r.Q3)("",!0)]),i.loginUser.userId?((0,r.uX)(),(0,r.Wv)(f,{key:0,taskList:i.taskStorage,loginUser:i.loginUser,users:i.users,teams:i.teams,isEditingTask:i.isEditingTask,"onUpdate:isEditingTask":l.updateIsEditingTask,"onUpdate:networkRequests":l.pushNetworkRequests},null,8,["taskList","loginUser","users","teams","isEditingTask","onUpdate:isEditingTask","onUpdate:networkRequests"])):(0,r.Q3)("",!0)])),_:1}),(0,r.bF)(v)])),_:1})])),_:1})}a(4114);var l=a(33);const o={key:1,style:{position:"relative"}},d={class:"menu-item-icon"},u={class:"menu-item-title"};function c(e,t,a,s,n,i){const c=(0,r.g2)("v-img"),m=(0,r.g2)("v-icon"),k=(0,r.g2)("v-btn"),g=(0,r.g2)("v-list-item"),p=(0,r.g2)("v-list"),h=(0,r.g2)("v-menu"),f=(0,r.g2)("v-avatar"),b=(0,r.g2)("v-spacer"),v=(0,r.g2)("v-app-bar");return(0,r.uX)(),(0,r.Wv)(v,{app:"",color:"primary",dark:""},{prepend:(0,r.k6)((()=>[(0,r.bF)(c,{onClick:t[0]||(t[0]=e=>i.navigateTo("main")),src:"/assets/logo.png",alt:"App Logo","max-height":"40","min-width":"40",class:"mr-3"}),t[2]||(t[2]=(0,r.Lk)("span",{class:"text-h6"}," FYNIX.PRO ",-1))])),append:(0,r.k6)((()=>[a.loginUser.userId?((0,r.uX)(),(0,r.Wv)(k,{key:0,color:"success",class:"mr-3",dark:"",onClick:t[1]||(t[1]=t=>e.$emit("create-new-task"))},{default:(0,r.k6)((()=>[(0,r.bF)(m,{left:""},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("mdi-plus")]))),_:1}),t[4]||(t[4]=(0,r.eW)(" Create Task "))])),_:1})):(0,r.Q3)("",!0),a.loginUser.userId?((0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(f,{size:"40",class:"cursor-pointer"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{src:a.loginUser?.picture||n.placeholderImage,alt:"User Avatar"},null,8,["src"]),(0,r.bF)(h,{activator:"parent"},{default:(0,r.k6)((()=>[(0,r.bF)(p,null,{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.menuItems,(e=>((0,r.uX)(),(0,r.Wv)(g,{key:e.text,class:"menu-item",onClick:t=>i.navigateTo(e.event)},{default:(0,r.k6)((()=>[(0,r.Lk)("div",d,[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(e.icon),1)])),_:2},1024)]),(0,r.Lk)("div",u,(0,l.v_)(e.text),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})])):(0,r.Q3)("",!0)])),default:(0,r.k6)((()=>[(0,r.bF)(b)])),_:1})}var m={name:"NavBar",props:{loginUser:{type:Object,default:null}},data(){return{placeholderImage:"/assets/placeholder-avatar.png",menuItems:[{text:"Inbox",event:"inbox",icon:"mdi-inbox"},{text:"To-do",event:"main",icon:"mdi-check-all"},{text:"Auction",event:"auction",icon:"mdi-account-group"},{text:"Stats",event:"reportsT",icon:"mdi-chart-box"},{text:"Settings",event:"teams",icon:"mdi-cog"}]}},methods:{navigateTo(e){this.$emit("update:currentPage",e)},emitCreateTaskEvent(){this.$emit("create-new-task")},toggleMenu(){this.$emit("update:toggleFoldableMenu",!0)}}},k=a(6262);const g=(0,k.A)(m,[["render",c],["__scopeId","data-v-7b5ab3c2"]]);var p=g;function h(e,t,a,s,n,i){return(0,r.uX)(),(0,r.CE)("div")}a(8992),a(4520),a(2577),a(7550);var f={name:"NetworkHandler",props:{networkRequests:{type:Array,required:!0}},data(){return{loginUser:{},teamData:{},users:[],domain:"fynix.pro"}},mounted(){this.getNetworkRequests(),this.server_getChangeLog(),this.$emit("update:networkRequests","login",null),this.syncCycle()},watch:{networkRequests:{immediate:!0,deep:!0,handler(e){e.length&&this.syncData()}},teamData:{immediate:!0,deep:!0,handler(e){null!==e&&(this.$emit("update:teamData",e),this.$emit("update:taskStorage",this.taskStorage),this.$emit("update:teams",this.teams))}},loginUser:{immediate:!0,deep:!0,handler(e){this.$emit("update:loginUser",e)}}},computed:{taskStorage(){let e=[];for(let t in this.teamData){for(let e of this.teamData[t].taskStorage)e.team=t;e.push(...this.teamData[t].taskStorage)}return e=e.filter((e=>"manager"==this.teamData[e.team].userPermissions.find((e=>e.userId==this.loginUser.userId)).permissionLevel||e.assignedTo.some((e=>e==this.loginUser.userId)))),e},teams(){let e={};for(let t in this.teamData){let a=this.teamData[t];e[a.teamId]={};let s=e[a.teamId];s.teamName=a.teamName,s.teamId=a.teamId,s.teams=a.teams,s.allowedSendToTeams=a.allowedSendToTeams,s.allowedReceiveFromTeams=a.allowedReceiveFromTeams,s.userPermissions=a.userPermissions,s.teamCode=a.teamCode}return e}},methods:{delay(e){return new Promise((t=>setTimeout(t,e)))},async syncCycle(){await this.delay(1e4),this.$emit("update:networkRequests","get-team-data",null),this.syncCycle()},async syncData(){let e=this.networkRequests;if(e.length){console.log("Syncing ",e.length),this.$emit("clearNetworkRequests");for(let t of e)switch(console.log(t.action,t.data),t.action){case"login":await this.submitLogin(t.data);break;case"logout":this.submitLogout(t.data);break;case"get-team-data":this.getTeamData();break;case"edit-task":await this.updateTask(t.data);break;case"place-bid":await this.placeBid(t.data);break;case"add-user":await this.addUser(t.data);break;case"change-password":await this.changePassword(t.data);break;case"add-subteam":await this.addTeam(t.data);break;case"add-team":await this.addTeam();break;case"add-send-to-team":await this.addSendToTeam(t.data);break;case"add-receive-from-team":await this.addReceiveFromTeam(t.data);break;case"update-team":await this.updateTeam(t.data);break;case"add-subtask":await this.addSubtask(t.data);break;case"task-accept":await this.taskAccept(t.data);break;case"task-assign":await this.taskAssign(t.data);break;case"task-auction":await this.taskAuction(t.data);break;case"task-review":await this.taskReview(t.data);break;case"task-transfer":await this.taskTransfer(t.data);break;case"task-forfeit":await this.taskForfeit(t.data);break;case"task-auction-update":await this.taskAuctionUpdate(t.data);break}}Object.keys(this.teamData).length&&localStorage.setItem("teamData",JSON.stringify(this.teamData))},async submitLogin(e){let t={};e&&(t=e);try{const e=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){401==e?.status&&this.$emit("update:currentPage","login");const t=await e.json();throw new Error(t.message)}{const t=await e.json();t.user&&(this.loginUser=t.user,console.log("Login successful",this.loginUser),this.$emit("update:networkRequests","get-team-data",null),this.$emit("update:currentPage","main"))}}catch(a){this.errorMessage=a.message||"Login failed.",alert(this.errorMessage)}},async submitLogout(){try{const e=await fetch("/api/logout",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){401==e?.status&&this.$emit("update:currentPage","login");const t=await e.json();throw new Error(t.message)}this.loginUser={},this.$emit("update:currentPage","login")}catch(e){this.$emit("update:currentPage","login"),this.errorMessage=e.message||"Logout failed.",alert(this.errorMessage)}},server_getChangeLog(){let e=JSON.parse(localStorage.getItem("changeLog")||"null");this.server_changeLog=e||[]},async getUsers(){let e=[];for(let a of Object.values(this.teams))for(let t of a.userPermissions)-1==e.indexOf(t.userId)&&e.push(t.userId);try{const t=await fetch("/api/get-users/",{headers:{"Content-Type":"application/json"},method:"POST",credentials:"include",body:JSON.stringify(e)});if(!t.ok)throw 401==t?.status&&this.$emit("update:currentPage","login"),new Error("Unauthorized");this.users=await t.json(),this.$emit("update:users",this.users)}catch(t){console.error("Error fetching protected data:",t)}},async getTeamData(){console.log("Retrieving teamData");try{const e=await fetch("/api/get-team-data",{method:"GET",credentials:"include"});if(!e.ok)throw 401==e?.status&&this.$emit("update:currentPage","login"),new Error("Unauthorized");this.teamData=await e.json()}catch(e){console.error("Error fetching protected data:",e)}await this.getUsers()},getNetworkRequests(){let e=JSON.parse(localStorage.getItem("networkRequests")||"null");if(e)for(let t of e)this.$emit("update:networkRequests",t.action,t.data)},calculateValue(e,t){e.generatedValue=t.generatedValue*(t.estimatedTimeHours/e.estimatedTimeHours),"Done"==t.state&&(e.state="Done"),this.updateTask(e);let a=this.teamData[e.team].taskStorage.filter((e=>e.subtasks.indexOf(e.taskId)>-1));if(a.length!=e.subtasks.length){console.log("Searching other teams for subtasks...");for(let t of Object.values(this.teamData)){let s=null;if(t.teamId!=e.teamId&&(s=t.taskStorage.filter((e=>e.subtasks.indexOf(e.taskId)>-1))),s&&a.push(...s),a.length==e.subtasks.length)break}}for(let s of a)this.calculateValue(s,e)},calculateProgress(e,t){let a=this.teamData[t].taskStorage.find((t=>t.taskId==e));if(!a){console.log("Searching other teams for parent...");for(let t of Object.values(this.teamData)){let s=t.taskStorage.find((t=>t.taskId==e));if(s){a=s;break}}}let s=this.teamData[t].taskStorage.filter((e=>a.subtasks.indexOf(e.taskId)>-1));if(s.length!=a.subtasks.length){console.log("Searching other teams for subtasks...");for(let e of Object.values(this.teamData)){let t=null;if(e.teamId!=e&&(t=e.taskStorage.filter((e=>a.subtasks.indexOf(e.taskId)>-1))),t&&s.push(...t),s.length==a.subtasks.length)break}}let r=0,n=0,i=[];for(let l of s)r+=l.estimatedHours,n+=l.estimatedHours*(l.progressCalculated/100),-1==i.indexOf(l.assignedTo[0])&&i.push(...l.assignedTo);if(a.estimatedHours=r,a.progressCalculated=0!=r?Math.round(n/r*100):0,a.assignedTo=i,this.updateTask(a),a.parent)this.calculateProgress(a.parent,a.team);else for(let l of s)this.calculateValue(l)},async updateTask(e){try{const t=await fetch("/api/edit-task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(a){this.$emit("update:currentPage","login"),this.errorMessage=a.message||"Network error.",alert(this.errorMessage)}const t=this.taskStorage.find((t=>t.taskId===e.taskId));if(t){const a=this.teamData[t.team].taskStorage.findIndex((t=>t.taskId===e.taskId));t.team==e.team?this.teamData[t.team].taskStorage.splice(a,1,e):this.taskTransfer({task:e,teamId:e.team})}else e.assignedTo.includes(this.loginUser.userId)&&(e.type="Assigned",e.status="To Do"),this.teamData[e.team].taskStorage.push(e);e.parent&&this.calculateProgress(e.parent,e.team)},async placeBid(e){try{const t=await fetch("/api/place-bid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(r){this.errorMessage=r.message||"Network error.",alert(this.errorMessage)}let t=e.task,a=e.bid,s=this.taskStorage.find((e=>e.taskId===t.taskId));s.auction.bids.push(a)},async addUser(e){this.teamData[e.teamId].userPermissions.push({userId:e.userId,permissionLevel:"member"});try{const t=await fetch("/api/add-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(t){this.errorMessage=t.message||"Network error.",alert(this.errorMessage)}},async changePassword(e){try{const t=await fetch("/api/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(t){this.errorMessage=t.message||"Network error.",alert(this.errorMessage)}this.teamData[e.teamId].userPermissions.push({userId:e.userId})},async addTeam(e=null){let t={teamId:"",teamName:"New Team",teamCode:"",teams:[],parent:"",taskStorage:[],userPermissions:[{userId:this.loginUser.userId,permissionLevel:"manager"}],authorizedteams:[]};t.teamId=this.loginUser.userId+Date.now().toString(),t.teamCode=this.loginUser.userId+Date.now().toString(),e&&(t.parent=e.teamId,this.teamData[e.teamId].teams.push(t.teamId)),this.teamData[t.teamId]=t,this.users.find((e=>e.userId==this.loginUser.userId)).teams.push(t.teamId);try{const e=await fetch("/api/add-team",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){401==e?.status&&this.$emit("update:currentPage","login");const t=await e.json();throw new Error(t.message)}}catch(a){this.errorMessage=a.message||"Network error.",alert(this.errorMessage)}},async addSendToTeam(e){try{const t=await fetch("/api/add-send-to-team",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(a){this.errorMessage=a.message||"Network error.",alert(this.errorMessage)}let t=null;for(let s of Object.values(this.teamData))if(s.teamCode==e.sendToTeam){t=s;break}null!=t?(this.teamData[e.teamId].allowedSendToTeams.push(t.teamId),this.teamData[t.teamId].allowedReceiveFromTeams.push(e.teamId)):console.log("Team not found")},async addReceiveFromTeam(e){try{const t=await fetch("/api/add-receive-from-team",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(a){this.errorMessage=a.message||"Network error.",alert(this.errorMessage)}let t=null;for(let s of Object.values(this.teamData))s.teamCode==e.receiveFromTeam&&(t=s);null!=t?this.teamData[e.teamId].allowedReceiveFromTeams.push(t.teamId):console.log("Team not found")},async updateTeam(e){try{const t=await fetch("/api/update-team",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(a){this.errorMessage=a.message||"Network error.",alert(this.errorMessage)}const t=this.teamData[e.teamId];if(e.authorizedTeams)for(const[s,r]of e.authorizedTeams.entries())""==r&&(""!=e.authorizedTeams[s]?this.teamData[e.teamId].authorizedTeams.splice(s,1,e.authorizedTeams[s]):this.teamData[e.teamId].authorizedTeams.splice(s,1));if(e.userPermissions)for(const[s,r]of e.userPermissions.entries())""==r.userId&&(""!=e.userPermissions[s]?this.teamData[e.teamId].userPermissions.splice(s,1,e.userPermissions[s]):this.teamData[e.teamId].userPermissions.splice(s,1));t.teamName=e.teamName},async addSubtask(e){e.assignedTo.includes(this.loginUser.userId)&&(e.type="Assigned",e.status="To Do"),this.teamData[e.team].taskStorage.push(e);let t=this.teamData[e.team].taskStorage.find((t=>t.taskId==e.parent));t.subtasks.push(e.taskId);try{const t=await fetch("/api/add-subtask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(a){this.errorMessage=a.message||"Network error.",alert(this.errorMessage)}},async taskReview(e){try{const t=await fetch("/api/task-review",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(a){this.errorMessage=a.message||"Network error.",alert(this.errorMessage)}let t=this.teamData[e.team].taskStorage.find((t=>t.taskId==e.taskId));t||console.log("Task not found"),t.valuation=e.valuation,t.status="Done",t.type="Assigned"},async taskTransfer(e){const t=e.task,a=e.team;try{const t=await fetch("/api/task-transfer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(r){this.errorMessage=r.message||"Network error.",alert(this.errorMessage)}let s=this.teamData[t.team].taskStorage.find((e=>e.taskId==t.taskId));s||console.log("Task not found"),s.type="Unassigned",s.receivedFrom=t.team,s.team=a},async taskAccept(e){let t=this.teamData[e.team].taskStorage.find((t=>t.taskId==e.taskId));t.status="To Do",t.type="Assigned",t.assignedTo=[this.loginUser.userId];try{const t=await fetch("/api/task-accept",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(a){this.errorMessage=a.message||"Network error.",alert(this.errorMessage)}},async taskAssign(e){let t=this.teamData[e.team].taskStorage.find((t=>t.taskId==e.taskId));t.assignedTo=e.assignedTo,t.type="Assigned",t.status="Pending Approval";try{const t=await fetch("/api/task-assign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(a){this.errorMessage=a.message||"Network error.",alert(this.errorMessage)}e.parent&&this.calculateProgress(e.parent,e.team)},async taskAuction(e){let t=this.teamData[e.team].taskStorage.find((t=>t.taskId==e.taskId));t.type="Auctioned",t.auction={},t.status="Pending Approval",t.auction.deadline=e.auction.deadline,t.auction.isAuctioned=!1,t.auction.bids=[];try{const t=await fetch("/api/task-auction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(a){this.errorMessage=a.message||"Network error.",alert(this.errorMessage)}},async taskForfeit(e){try{const t=await fetch("/api/task-forfeit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(s){this.errorMessage=s.message||"Network error.",alert(this.errorMessage)}let t=this.teamData[e.team].taskStorage.findIndex((t=>t.taskId==e.taskId)),a=this.teamData[e.team].taskStorage[t];a.createdBy==this.loginUser.userId&&a.assignedTo.includes(this.loginUser.userId)&&this.teamData[a.team].taskStorage.splice(t,1),"Unassigned"==a.type?a.receivedFrom?(a.team=a.receivedFrom,this.teamData[a.team].taskStorage.splice(t,1,a)):this.teamData[a.team].taskStorage.splice(t,1):(a.type="Unassigned",this.teamData[a.team].taskStorage.splice(t,1,a))},async taskAuctionUpdate(e){try{const t=await fetch("/api/task-auction-update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){401==t?.status&&this.$emit("update:currentPage","login");const e=await t.json();throw new Error(e.message)}}catch(r){this.errorMessage=r.message||"Network error.",alert(this.errorMessage)}let t=this.teamData[e.team].taskStorage.find((t=>t.taskId==e.taskId)),a=null,s=9999;if(t){if(!t.auction.bids||!t.auction.bids.length)return console.log("No task bids"),t.type="Unassigned",void(t.status="Pending Approval");for(let e of t.auction.bids)s>e.bidHours&&(a=e.userId);t.assignedTo=[a],t.type="Assigned",t.status="Pending Approval",t.auction.isAuctioned=!0}else console.log("Task not found")}}};const b=(0,k.A)(f,[["render",h]]);var v=b;const T=["onDragstart","onClick"],y={class:"task-header"},w={class:"task-title-wrapper"},_={class:"task-title"},F={class:"priority-icon-wrapper"},C={class:"task-deadline"},I={class:"task-users"},U=["title"],S={key:0,class:"user-avatar more-users",title:"More users"},D={key:0,class:"stars"},L={key:1,class:"stars"};function x(e,t,a,n,i,o){const d=(0,r.g2)("v-card-title"),u=(0,r.g2)("v-divider"),c=(0,r.g2)("v-icon"),m=(0,r.g2)("v-progress-linear"),k=(0,r.g2)("v-chip"),g=(0,r.g2)("v-card-text"),p=(0,r.g2)("v-card"),h=(0,r.g2)("v-col"),f=(0,r.g2)("v-row"),b=(0,r.g2)("v-container");return(0,r.uX)(),(0,r.Wv)(b,{fluid:""},{default:(0,r.k6)((()=>[(0,r.bF)(f,null,{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.columns,((a,n)=>((0,r.uX)(),(0,r.Wv)(h,{key:n,class:"kanban-column",cols:"12",md:"4",onDragover:(0,s.D$)(o.onDragOver,["prevent"]),onDrop:e=>o.onDrop(a.status)},{default:(0,r.k6)((()=>[(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(a.name),1)])),_:2},1024),(0,r.bF)(u),(0,r.bF)(g,null,{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.getTasksByStatus(a.status),(s=>((0,r.uX)(),(0,r.CE)("div",{key:s.taskId,class:"kanban-task",draggable:"true",onDragstart:()=>o.setDraggedTask(s),onClick:()=>o.emitEditTask(s.taskId)},[(0,r.Lk)("div",y,[(0,r.Lk)("div",w,[(0,r.Lk)("span",_,(0,l.v_)(s.title),1)]),(0,r.Lk)("div",F,[(0,r.bF)(c,{color:o.getPriorityColor(s.priority),class:"priority-icon"},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(o.getPriorityIcon(s.priority)),1)])),_:2},1032,["color"])])]),(0,r.bF)(m,{modelValue:s.progressCalculated,"onUpdate:modelValue":e=>s.progressCalculated=e,height:"5",color:"green",class:"my-2"},null,8,["modelValue","onUpdate:modelValue"]),(0,r.Lk)("p",C,[t[0]||(t[0]=(0,r.Lk)("strong",null,"Deadline:",-1)),(0,r.eW)(" "+(0,l.v_)(o.formatDate(s.deadline)),1)]),(0,r.Lk)("div",I,[(0,r.bF)(k,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(o.getTeam(s.team)),1)])),_:2},1024),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.assignedTo.slice(0,3),(e=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"user-avatar",style:(0,l.Tr)({backgroundColor:o.getUserColor(e)}),title:o.getUser(e).username},[(0,r.Lk)("span",null,(0,l.v_)(o.getUser(e).picture?"":o.getUserInitial(o.getUser(e).username)),1)],12,U)))),128)),s.assignedTo.length>3?((0,r.uX)(),(0,r.CE)("div",S," +"+(0,l.v_)(s.assignedTo.length-3),1)):(0,r.Q3)("",!0)]),"Done"==a.name&&"Assigned"==s.type?((0,r.uX)(),(0,r.CE)("div",D,[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(5,(a=>(0,r.bF)(c,{key:a,color:a<=s.valuation.completionRating?"yellow":"gray",onClick:t=>e.rateTask(s,a),class:"star-icon"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)(" mdi-star ")]))),_:2},1032,["color","onClick"]))),64))])):(0,r.Q3)("",!0),"Done"==a.name&&"Assigned"!=s.type?((0,r.uX)(),(0,r.CE)("div",L,t[2]||(t[2]=[(0,r.Lk)("span",null,"Reviewing...",-1)]))):(0,r.Q3)("",!0)],40,T)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1032,["onDragover","onDrop"])))),128))])),_:1})])),_:1})}var E={name:"KanbanBoard",props:{taskList:{type:Array,required:!0},users:{type:Array,required:!0},teams:{type:Object,required:!0}},data(){return{columns:[{name:"To Do",status:"To Do"},{name:"In Progress",status:"In Progress"},{name:"Done",status:"Done"}],draggedTask:null}},methods:{getTasksByStatus(e){return this.taskList.filter((t=>t.status===e))},setDraggedTask(e){this.draggedTask=e},onDragOver(e){e.preventDefault()},onDrop(e){this.draggedTask&&("Done"==e&&"Done"!=this.draggedTask.status?(this.draggedTask.type="Review",this.draggedTask.progressCalculated=100):"Done"!=e&&"Done"==this.draggedTask.status&&(this.draggedTask.type="Assigned"),this.draggedTask.status=e,this.$emit("update:networkRequests","edit-task",this.draggedTask),this.draggedTask=null)},emitEditTask(e){this.$emit("update:isEditingTask",e)},getPriorityColor(e){switch(e){case"High":return"red";case"Medium":return"orange";case"Low":return"green";default:return"gray"}},getPriorityIcon(e){switch(e){case"High":return"mdi-alert-circle";case"Medium":return"mdi-alert";case"Low":return"mdi-alert";default:return null}},formatDate(e){if(!e)return"No deadline";const t={year:"numeric",month:"short",day:"numeric"};return new Date(e).toLocaleDateString(void 0,t)},getUser(e){let t={username:"Unknown"};return this.users&&this.users.find((t=>t.userId===e))||t},getTeam(e){return this.teams[e].teamName||"Unknown"},getUserInitial(e){return e?e.charAt(0).toUpperCase():"?"},getUserColor(e){const t=["#FFB6C1","#ADD8E6","#90EE90","#FFD700","#DDA0DD"],a=e.charCodeAt(0)%t.length;return t[a]}}};const V=(0,k.A)(E,[["render",x],["__scopeId","data-v-8660d984"]]);var A=V;function W(e,t,a,s,n,i){const o=(0,r.g2)("v-icon"),d=(0,r.g2)("v-card-title"),u=(0,r.g2)("v-divider"),c=(0,r.g2)("v-checkbox"),m=(0,r.g2)("v-col"),k=(0,r.g2)("v-select"),g=(0,r.g2)("v-combobox"),p=(0,r.g2)("v-row"),h=(0,r.g2)("v-container"),f=(0,r.g2)("v-card-text"),b=(0,r.g2)("v-btn"),v=(0,r.g2)("v-card-actions"),T=(0,r.g2)("v-card");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",{class:(0,l.C4)(["menu-indicator",{"menu-expanded":n.menuExpanded}]),onClick:t[0]||(t[0]=(...e)=>i.toggleMenu&&i.toggleMenu(...e))},[(0,r.bF)(o,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(n.menuExpanded?"mdi-chevron-left":"mdi-filter"),1)])),_:1})],2),n.menuExpanded?((0,r.uX)(),(0,r.Wv)(T,{key:0,class:"menu-card",outlined:"",elevation:"2"},{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.Lk)("span",{class:"text-h6"},"Filter Tasks",-1)]))),_:1}),(0,r.bF)(u),(0,r.bF)(f,null,{default:(0,r.k6)((()=>[(0,r.bF)(h,null,{default:(0,r.k6)((()=>[(0,r.bF)(p,null,{default:(0,r.k6)((()=>[Object.keys(a.teams).some((e=>i.isAdmin(e)))?((0,r.uX)(),(0,r.Wv)(m,{key:0,cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{modelValue:n.filters.management,"onUpdate:modelValue":t[1]||(t[1]=e=>n.filters.management=e),label:"Management view",dense:""},null,8,["modelValue"])])),_:1})):(0,r.Q3)("",!0),(0,r.bF)(m,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{modelValue:n.filters.expired,"onUpdate:modelValue":t[2]||(t[2]=e=>n.filters.expired=e),label:"Show Expired Tasks",dense:""},null,8,["modelValue"])])),_:1}),(0,r.bF)(m,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(k,{modelValue:n.filters.team,"onUpdate:modelValue":t[3]||(t[3]=e=>n.filters.team=e),items:i.getUniqueValues("team"),label:"Team",dense:"",multiple:"",clearable:"",chips:""},null,8,["modelValue","items"])])),_:1}),(0,r.bF)(m,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(k,{modelValue:n.filters.status,"onUpdate:modelValue":t[4]||(t[4]=e=>n.filters.status=e),items:i.getUniqueValues("status"),label:"Status",dense:"",multiple:"",clearable:"",chips:""},null,8,["modelValue","items"])])),_:1}),(0,r.bF)(m,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(k,{modelValue:n.filters.priority,"onUpdate:modelValue":t[5]||(t[5]=e=>n.filters.priority=e),items:i.getUniqueValues("priority"),label:"Priority",dense:"",multiple:"",clearable:"",chips:""},null,8,["modelValue","items"])])),_:1}),(0,r.bF)(m,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(k,{modelValue:n.filters.assignedTo,"onUpdate:modelValue":t[6]||(t[6]=e=>n.filters.assignedTo=e),items:i.getUniqueValues("assignedTo",!0),label:"Assigned To",dense:"",multiple:"",clearable:"",chips:""},null,8,["modelValue","items"])])),_:1}),(0,r.bF)(m,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{modelValue:n.filters.tags,"onUpdate:modelValue":t[7]||(t[7]=e=>n.filters.tags=e),items:i.getUniqueValues("tags",!0),label:"Tags",dense:"",multiple:"",clearable:"",chips:""},null,8,["modelValue","items"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.bF)(v,null,{default:(0,r.k6)((()=>[(0,r.bF)(b,{text:"",onClick:i.resetFilters},{default:(0,r.k6)((()=>t[9]||(t[9]=[(0,r.eW)("Reset")]))),_:1},8,["onClick"])])),_:1})])),_:1})):(0,r.Q3)("",!0)])}a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(670),a(1454);var P={name:"TaskFilter",props:{loginUser:{type:Object,required:!0},taskStorage:{type:Array,required:!0},teams:{type:Object,required:!0},users:{type:Array,required:!0}},data(){return{menuExpanded:!1,filters:{team:[],status:[],priority:[],assignedTo:[],tags:[],expired:!1,management:!1}}},mounted(){this.applyFilters()},watch:{taskStorage:{deep:!0,handler(e){null!==e&&this.applyFilters()}},filters:{deep:!0,handler(e){null!==e&&this.applyFilters()}}},methods:{isAdmin(e){if(!e)return!1;const t=this.teams[e].userPermissions.find((e=>e.userId===this.loginUser.userId));return"manager"===t.permissionLevel},toggleMenu(){this.menuExpanded=!this.menuExpanded},getUniqueValues(e,t=!1){if(!this.taskStorage||0===this.taskStorage.length)return[];if(t){const t=this.taskStorage.flatMap((t=>Array.isArray(t[e])?t[e]:[]));return[...new Set(t)]}return[...new Set(this.taskStorage.map((t=>t[e]||null)))]},getTeam(e){return this.teams[e].teamName||"Unknown"},getUser(e){return this.users.find((t=>t.userId===e))||"Unknown"},applyFilters(){let e=[...this.taskStorage];if(e=this.filters.management?e.filter((e=>!e.parent||0!=e.subtasks.length)):e.filter((e=>0==e.subtasks.length&&e.assignedTo.includes(this.loginUser.userId))),e=e.filter((e=>"Auctioned"!=e.type)),this.filters.team.length>0&&(e=e.filter((e=>this.filters.team.includes(e.team)))),this.filters.status.length>0&&(e=e.filter((e=>this.filters.status.includes(e.status)))),this.filters.priority.length>0&&(e=e.filter((e=>this.filters.priority.includes(e.priority)))),this.filters.assignedTo.length>0&&(e=e.filter((e=>e.assignedTo.some((e=>this.filters.assignedTo.includes(e)))))),this.filters.tags.length>0&&(e=e.filter((e=>e.tags.some((e=>this.filters.tags.includes(e)))))),!this.filters.expired){const t=new Date;e=e.filter((e=>new Date(e.deadline)<t))}e.sort(((e,t)=>{const a=new Date(e.deadline||0).getTime(),s=new Date(t.deadline||0).getTime(),r={High:1,Medium:2,Low:3,None:4};return a!==s?a-s:(r[e.priority]||5)-(r[t.priority]||5)})),this.$emit("update:taskList",e)},resetFilters(){this.filters={status:[],priority:[],assignedTo:[],tags:[],expired:!1},this.applyFilters()}}};const R=(0,k.A)(P,[["render",W],["__scopeId","data-v-6ea5abec"]]);var q=R;const N={key:0,class:"modal-overlay"},O={class:"modal-card"};function X(e,t,a,s,n,i){const o=(0,r.g2)("v-col"),d=(0,r.g2)("v-icon"),u=(0,r.g2)("v-tooltip"),c=(0,r.g2)("v-btn"),m=(0,r.g2)("v-card-actions"),k=(0,r.g2)("v-row"),g=(0,r.g2)("v-card-title"),p=(0,r.g2)("v-progress-linear"),h=(0,r.g2)("v-slider"),f=(0,r.g2)("v-text-field"),b=(0,r.g2)("v-select"),v=(0,r.g2)("VueDatepicker"),T=(0,r.g2)("v-textarea"),y=(0,r.g2)("v-combobox"),w=(0,r.g2)("v-list-item"),_=(0,r.g2)("v-list"),F=(0,r.g2)("v-container"),C=(0,r.g2)("v-card-text"),I=(0,r.g2)("v-card");return(0,r.uX)(),(0,r.CE)("div",null,[i.shouldDisplayCard?((0,r.uX)(),(0,r.CE)("div",N,[(0,r.Lk)("div",O,[(0,r.bF)(I,{class:"mx-auto","max-width":"800",style:{"overflow-y":"hidden","max-height":"90vh"}},{default:(0,r.k6)((()=>[(0,r.bF)(g,null,{default:(0,r.k6)((()=>[(0,r.bF)(k,{justify:"space-between",align:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(o,{class:"text-right"},{default:(0,r.k6)((()=>[(0,r.Lk)("small",null," Created: "+(0,l.v_)(i.formatDate(n.currentTask.createdAt)),1)])),_:1}),(0,r.bF)(o,null,{default:(0,r.k6)((()=>[(0,r.Lk)("h3",null,(0,l.v_)(n.currentTask.title),1)])),_:1}),(0,r.bF)(o,null,{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>["In Progress"==n.currentTask.status?((0,r.uX)(),(0,r.Wv)(c,{key:0,color:"red",text:"",onClick:i.statusBack},{default:(0,r.k6)((()=>[(0,r.bF)(d,{color:e.primary},{default:(0,r.k6)((()=>t[15]||(t[15]=[(0,r.eW)((0,l.v_)("mdi-stop-circle-outline"))]))),_:1},8,["color"]),(0,r.bF)(u,{activator:"parent",location:"top"},{default:(0,r.k6)((()=>t[16]||(t[16]=[(0,r.eW)("Stop task")]))),_:1})])),_:1},8,["onClick"])):(0,r.Q3)("",!0),"Done"==n.currentTask.status&&"Review"==n.currentTask.type?((0,r.uX)(),(0,r.Wv)(c,{key:1,color:"red",text:"",onClick:i.statusBack},{default:(0,r.k6)((()=>[(0,r.bF)(d,{color:e.primary},{default:(0,r.k6)((()=>t[17]||(t[17]=[(0,r.eW)((0,l.v_)("mdi-undo-variant"))]))),_:1},8,["color"]),(0,r.bF)(u,{activator:"parent",location:"top"},{default:(0,r.k6)((()=>t[18]||(t[18]=[(0,r.eW)("Restart task")]))),_:1})])),_:1},8,["onClick"])):(0,r.Q3)("",!0),"To Do"==n.currentTask.status?((0,r.uX)(),(0,r.Wv)(c,{key:2,color:"green",text:"",onClick:i.statusForward},{default:(0,r.k6)((()=>[(0,r.bF)(d,{color:e.primary},{default:(0,r.k6)((()=>t[19]||(t[19]=[(0,r.eW)((0,l.v_)("mdi-play-circle-outline"))]))),_:1},8,["color"]),(0,r.bF)(u,{activator:"parent",location:"top"},{default:(0,r.k6)((()=>t[20]||(t[20]=[(0,r.eW)("Start task")]))),_:1})])),_:1},8,["onClick"])):(0,r.Q3)("",!0),"In Progress"==n.currentTask.status?((0,r.uX)(),(0,r.Wv)(c,{key:3,color:"green",text:"",onClick:i.statusForward},{default:(0,r.k6)((()=>[(0,r.bF)(d,{color:e.primary},{default:(0,r.k6)((()=>t[21]||(t[21]=[(0,r.eW)((0,l.v_)("mdi-check-circle-outline"))]))),_:1},8,["color"]),(0,r.bF)(u,{activator:"parent",location:"top"},{default:(0,r.k6)((()=>t[22]||(t[22]=[(0,r.eW)("Complete task")]))),_:1})])),_:1},8,["onClick"])):(0,r.Q3)("",!0),i.isSubtask?((0,r.uX)(),(0,r.Wv)(c,{key:4,color:"red",text:"",onClick:i.forfeitTask},{default:(0,r.k6)((()=>[(0,r.bF)(d,{color:e.primary},{default:(0,r.k6)((()=>t[23]||(t[23]=[(0,r.eW)((0,l.v_)("mdi-trash-can-outline"))]))),_:1},8,["color"]),(0,r.bF)(u,{activator:"parent",location:"top"},{default:(0,r.k6)((()=>t[24]||(t[24]=[(0,r.eW)("Forfeit task")]))),_:1})])),_:1},8,["onClick"])):(0,r.Q3)("",!0),a.isEditingTask?((0,r.uX)(),(0,r.Wv)(c,{key:5,color:"primary",text:"",onClick:i.saveAndClose},{default:(0,r.k6)((()=>[(0,r.bF)(d,{color:e.primary},{default:(0,r.k6)((()=>t[25]||(t[25]=[(0,r.eW)((0,l.v_)("mdi-content-save-edit-outline"))]))),_:1},8,["color"]),(0,r.bF)(u,{activator:"parent",location:"top"},{default:(0,r.k6)((()=>t[26]||(t[26]=[(0,r.eW)("Save task")]))),_:1})])),_:1},8,["onClick"])):(0,r.Q3)("",!0),(0,r.bF)(c,{color:"primary",text:"",onClick:i.closeCard},{default:(0,r.k6)((()=>[(0,r.bF)(d,{color:e.primary},{default:(0,r.k6)((()=>t[27]||(t[27]=[(0,r.eW)((0,l.v_)("mdi-close"))]))),_:1},8,["color"]),(0,r.bF)(u,{activator:"parent",location:"top"},{default:(0,r.k6)((()=>t[28]||(t[28]=[(0,r.eW)("Close without saving")]))),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.bF)(I,{"max-width":"800",style:{"overflow-y":"scroll","max-height":"70vh"}},{default:(0,r.k6)((()=>[(0,r.bF)(C,null,{default:(0,r.k6)((()=>[(0,r.bF)(F,null,{default:(0,r.k6)((()=>[(0,r.bF)(k,null,{default:(0,r.k6)((()=>[(0,r.bF)(o,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{modelValue:n.currentTask.progressCalculated,"onUpdate:modelValue":t[0]||(t[0]=e=>n.currentTask.progressCalculated=e),height:"20",color:"green"},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(n.currentTask.progressCalculated)+"% completed ",1)])),_:1},8,["modelValue"]),i.isSubtask?((0,r.uX)(),(0,r.Wv)(h,{key:0,modelValue:n.currentTask.progressCalculated,"onUpdate:modelValue":t[1]||(t[1]=e=>n.currentTask.progressCalculated=e),min:0,max:100,step:"1",label:"Progress"},null,8,["modelValue"])):(0,r.Q3)("",!0)])),_:1}),(0,r.bF)(o,{cols:"12",sm:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:n.currentTask.title,"onUpdate:modelValue":t[2]||(t[2]=e=>n.currentTask.title=e),label:"Task Title"},null,8,["modelValue"])])),_:1}),(0,r.bF)(o,{cols:"12",sm:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(b,{modelValue:n.currentTask.team,"onUpdate:modelValue":t[3]||(t[3]=e=>n.currentTask.team=e),items:i.teamOptions,"item-title":"teamName","item-value":"teamId",readonly:n.currentTask.team&&!i.isAdmin(n.currentTask.team),label:"Team",onChange:i.updateAssignedTo},null,8,["modelValue","items","readonly","onChange"])])),_:1}),(0,r.bF)(o,{cols:"12",sm:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(b,{readonly:i.isSubtask||!i.isAdmin(n.currentTask.team),modelValue:n.currentTask.priority,"onUpdate:modelValue":t[4]||(t[4]=e=>n.currentTask.priority=e),items:n.priorityOptions,label:"Priority"},null,8,["readonly","modelValue","items"])])),_:1}),(0,r.bF)(o,{cols:"12",sm:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(b,{modelValue:i.getStatus,"onUpdate:modelValue":t[5]||(t[5]=e=>i.getStatus=e),label:"Status",readonly:!0},null,8,["modelValue"])])),_:1}),(0,r.bF)(o,{cols:"12",sm:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(f,{readonly:!i.isSubtask,modelValue:n.currentTask.estimatedHours,"onUpdate:modelValue":t[6]||(t[6]=e=>n.currentTask.estimatedHours=e),modelModifiers:{number:!0},label:"Estimated Hours",type:"number"},null,8,["readonly","modelValue"])])),_:1}),i.isSubtask||n.currentTask.createdBy!=a.loginUser.userId&&(n.currentTask.delegatedFrom||!i.isAdmin(n.currentTask.team))?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(o,{key:0,cols:"12",sm:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:n.currentTask.actualHours,"onUpdate:modelValue":t[7]||(t[7]=e=>n.currentTask.actualHours=e),modelModifiers:{number:!0},label:"Predicted hours",type:"number"},null,8,["modelValue"])])),_:1})),(0,r.bF)(o,{cols:"12",sm:"6"},{default:(0,r.k6)((()=>[t[29]||(t[29]=(0,r.Lk)("label",{for:"date-time-picker"},"Deadline",-1)),(0,r.bF)(v,{modelValue:n.selectedDeadline,"onUpdate:modelValue":t[8]||(t[8]=e=>n.selectedDeadline=e),format:"dd-MM-yyyy HH:mm",flow:["year","month","calendar","time"],"partial-flow":!0,"year-first":!0,"enable-time":!0,"start-time":{hours:0,minutes:0},"auto-apply":!0,"use-24-hour":!0,locale:"en-US",id:"date-time-picker","input-class":"custom-input"},null,8,["modelValue"])])),_:1}),i.isAdmin(n.currentTask.team)&&!n.currentTask.parent?((0,r.uX)(),(0,r.Wv)(o,{key:1,cols:"12",sm:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:n.currentTask.valueGenerated,"onUpdate:modelValue":t[9]||(t[9]=e=>n.currentTask.valueGenerated=e),modelModifiers:{number:!0},label:"Value Generated ($)",type:"number"},null,8,["modelValue"])])),_:1})):(0,r.Q3)("",!0),(0,r.bF)(o,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(b,{modelValue:n.currentTask.assignedTo,"onUpdate:modelValue":t[10]||(t[10]=e=>n.currentTask.assignedTo=e),items:i.userOptions,"item-title":"username","item-value":"userId",readonly:!i.isSubtask||!i.isAdmin(n.currentTask.team),label:"Assigned To",chips:""},null,8,["modelValue","items","readonly"])])),_:1}),(0,r.bF)(o,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(T,{modelValue:n.currentTask.description,"onUpdate:modelValue":t[11]||(t[11]=e=>n.currentTask.description=e),label:"Description",rows:"4"},null,8,["modelValue"])])),_:1}),(0,r.bF)(o,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(y,{modelValue:n.currentTask.tags,"onUpdate:modelValue":t[12]||(t[12]=e=>n.currentTask.tags=e),items:n.availableTags,label:"Tags",multiple:"",chips:""},null,8,["modelValue","items"])])),_:1})])),_:1}),"Unassigned"!=n.currentTask.type?((0,r.uX)(),(0,r.Wv)(k,{key:0},{default:(0,r.k6)((()=>[(0,r.bF)(o,{cols:"12"},{default:(0,r.k6)((()=>[t[32]||(t[32]=(0,r.Lk)("h3",null,"Subtasks",-1)),n.currentTask.subtasks.length?((0,r.uX)(),(0,r.Wv)(_,{key:0},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.currentTask.subtasks,(e=>((0,r.uX)(),(0,r.Wv)(w,{key:e},{default:(0,r.k6)((()=>[(0,r.Lk)("div",null,[(0,r.Lk)("span",null,(0,l.v_)(i.currentSubtasks.find((t=>t.taskId==e)).title),1),(0,r.bF)(p,{modelValue:i.currentSubtasks.find((t=>t.taskId==e)).progressCalculated,"onUpdate:modelValue":t=>i.currentSubtasks.find((t=>t.taskId==e)).progressCalculated=t,height:"5",color:"green"},null,8,["modelValue","onUpdate:modelValue"])]),(0,r.bF)(c,{text:"",small:"",color:"primary",onClick:t=>i.viewSubtask(e)},{default:(0,r.k6)((()=>t[30]||(t[30]=[(0,r.eW)(" View ")]))),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})):(0,r.Q3)("",!0),(0,r.bF)(c,{color:"primary",text:"",onClick:i.addSubtask},{default:(0,r.k6)((()=>t[31]||(t[31]=[(0,r.eW)(" Add Subtask ")]))),_:1},8,["onClick"])])),_:1})])),_:1})):(0,r.Q3)("",!0),(0,r.bF)(k,null,{default:(0,r.k6)((()=>[(0,r.bF)(o,{cols:"12"},{default:(0,r.k6)((()=>[t[34]||(t[34]=(0,r.Lk)("h3",null,"Comments",-1)),(0,r.bF)(_,null,{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.currentTask.comments,(e=>((0,r.uX)(),(0,r.Wv)(w,{key:e.commentId},{default:(0,r.k6)((()=>[(0,r.Lk)("div",null,[(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,l.v_)(i.getUser(e.author).username),1),(0,r.Lk)("span",null,"("+(0,l.v_)(i.formatDate(e.createdAt))+")",1)]),(0,r.Lk)("p",null,(0,l.v_)(e.content),1)])])),_:2},1024)))),128))])),_:1}),(0,r.bF)(T,{modelValue:n.newComment,"onUpdate:modelValue":t[13]||(t[13]=e=>n.newComment=e),label:"Add a comment"},null,8,["modelValue"]),(0,r.bF)(c,{color:"primary",text:"",onClick:i.addComment},{default:(0,r.k6)((()=>t[33]||(t[33]=[(0,r.eW)(" Add Comment ")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,r.bF)(k,null,{default:(0,r.k6)((()=>[(0,r.bF)(o,{cols:"12"},{default:(0,r.k6)((()=>["Done"==n.currentTask.status&&"Assigned"==n.currentTask.type?((0,r.uX)(),(0,r.Wv)(k,{key:0},{default:(0,r.k6)((()=>[t[36]||(t[36]=(0,r.Lk)("h3",null,"Review",-1)),((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(5,(e=>(0,r.bF)(d,{key:e,color:e<=n.currentTask.valuation.completionRating?"yellow":"gray",class:"star-icon"},{default:(0,r.k6)((()=>t[35]||(t[35]=[(0,r.eW)(" mdi-star ")]))),_:2},1032,["color"]))),64))])),_:1})):(0,r.Q3)("",!0),"Done"==n.currentTask.status&&"Assigned"==n.currentTask.type?((0,r.uX)(),(0,r.Wv)(k,{key:1,class:"stars"},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:n.currentTask.valuation.feedback,"onUpdate:modelValue":t[14]||(t[14]=e=>n.currentTask.valuation.feedback=e),label:"Feedback"},null,8,["modelValue"])])),_:1})):(0,r.Q3)("",!0),"Done"==n.currentTask.status&&"Assigned"!=n.currentTask.type?((0,r.uX)(),(0,r.Wv)(k,{key:2,class:"stars"},{default:(0,r.k6)((()=>t[37]||(t[37]=[(0,r.Lk)("span",null,"Reviewing...",-1)]))),_:1})):(0,r.Q3)("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])):(0,r.Q3)("",!0)])}a(4979),a(1678);var $={name:"TaskEdit",props:{taskList:{type:Array,required:!0},isEditingTask:{type:[String,null],default:null},users:{type:Array,required:!0},loginUser:{type:Object,required:!0},teams:{type:Object,required:!0}},data(){return{availableTags:[],statusOptions:["Pending Approval","To Do","In Progress","Done"],priorityOptions:["High","Medium","Low","None"],deadlinePickerOrder:["year","month","calendar","time"],currentTask:{},newComment:"",selectedDeadline:null}},computed:{isSubtask(){return this.currentTask?0==this.currentTask.subtasks.length:0},shouldDisplayCard(){return null!==this.isEditingTask},getStatus(){return"Review"==this.currentTask.type?"Reviewing":this.currentTask.status},teamOptions(){let e=[],t=[];for(let a of this.loginUser.teams)if(this.isAdmin(a)){e.push(this.teams[a]);let s=this.teams[a].allowedSendToTeams;if(s)for(let e of s)t.push(this.teams[e])}for(let a of t)e.some((e=>a.teamId==e.teamId))||e.push(a);return e=e.map((e=>({teamName:{...e}.teamName,teamId:{...e}.teamId}))),e},userOptions(){let e=this.teams[this.currentTask.team].userPermissions.map((e=>e.userId)),t=this.users.filter((t=>e.includes(t.userId)));return t},currentSubtasks(){let e=this.taskList.filter((e=>this.currentTask.subtasks.indexOf(e.taskId)>-1));return e}},watch:{isEditingTask:{immediate:!0,handler(e){null!==e&&this.setCurrentTask(e)}}},methods:{updateAssignedTo(){this.currentTask.assignedTo=[]},setCurrentTask(e){let t={title:"New Task",description:"",type:"Assigned",team:this.loginUser.teams[0],status:"Pending Approval",parent:null,deadline:null,priority:"None",estimatedHours:0,actualHours:null,valueGenerated:null,assignedTo:[this.loginUser.userId],tags:[],progressCalculated:0,subtasks:[],comments:[],createdBy:this.loginUser.userId,createdAt:Date.now(),valuation:{completionRating:null,feedback:null},auction:{}};t.taskId=this.loginUser.username+(new Date).toString();const a=this.taskList.find((t=>t.taskId===e))||t;this.selectedDeadline=a.deadline,this.currentTask=structuredClone(a)},saveTask(){this.selectedDeadline&&(this.currentTask.deadline=new Date(this.selectedDeadline).toISOString()),this.$emit("update:networkRequests","edit-task",this.currentTask)},forfeitTask(){this.currentTask.forfeitText="forfeited task",this.$emit("update:networkRequests","task-forfeit",this.currentTask),this.closeCard()},closeCard(){this.currentTask.parent?this.$emit("update:isEditingTask",this.currentTask.parent):this.$emit("update:isEditingTask",null),this.currentTask={title:"",description:"",status:"",progressCalculated:0,subtasks:[],comments:[]}},saveAndClose(){this.saveTask(),this.closeCard()},addSubtask(){let e=this.loginUser.userId+Date.now().toString(),t={taskId:e,title:"New Subtask "+e%20,description:"",type:"Assigned",team:this.currentTask.team,status:"Pending Approval",parent:this.currentTask.taskId,deadline:this.currentTask.deadline,priority:this.currentTask.priority,estimatedHours:0,actualHours:null,valueGenerated:null,assignedTo:this.currentTask.assignedTo,tags:[],progressCalculated:0,subtasks:[],comments:[],createdBy:this.loginUser.userId,createdAt:Date.now(),valuation:{completionRating:null,feedback:null},auction:{}};this.currentTask.assignedTo.length&&(t.type="Assigned"),this.$emit("update:networkRequests","add-subtask",t),this.$emit("update:isEditingTask",e)},viewSubtask(e){this.$emit("update:isEditingTask",e)},addComment(){this.newComment.trim()&&(this.currentTask.comments.push({commentId:Date.now().toString(),author:this.loginUser.userId,content:this.newComment.trim(),createdAt:(new Date).toISOString()}),this.newComment="")},getUser(e){return this.users.find((t=>t.userId===e))||{username:"Unknown User"}},formatDate(e){if(!e)return"N/A";const t=new Date(e);return t.toLocaleString()},statusBack(){switch(this.currentTask.status){case"Pending Approval":this.currentTask.status=null,this.currentTask.type="Unassigned";break;case"To Do":this.currentTask.status="Pending Approval";break;case"In Progress":"Review"==this.currentTask.type?this.currentTask.type="Assigned":this.currentTask.status="To Do";break;case"Done":this.currentTask.type="Assigned",this.currentTask.status="In Progress";break}},statusForward(){switch(this.currentTask.status){case"Pending Approval":this.currentTask.status="To Do";break;case"To Do":this.currentTask.status="In Progress";break;case"In Progress":this.currentTask.type="Review",this.currentTask.progressCalculated=100,this.currentTask.status="Done";break}},isAdmin(e){if(!e)return!1;const t=this.teams[e].userPermissions.find((e=>e.userId===this.loginUser.userId));return"manager"===t.permissionLevel}}};const j=(0,k.A)($,[["render",X],["__scopeId","data-v-8f7459ae"]]);var M=j;function H(e,t,a,s,n,i){const o=(0,r.g2)("v-card-title"),d=(0,r.g2)("v-text-field"),u=(0,r.g2)("v-alert"),c=(0,r.g2)("v-btn"),m=(0,r.g2)("v-form"),k=(0,r.g2)("v-card-text"),g=(0,r.g2)("v-card"),p=(0,r.g2)("v-col"),h=(0,r.g2)("v-row"),f=(0,r.g2)("v-container");return(0,r.uX)(),(0,r.Wv)(f,{class:"login-container",fluid:""},{default:(0,r.k6)((()=>[(0,r.bF)(h,{justify:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{cols:"12",md:"4"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{class:"login-card"},{default:(0,r.k6)((()=>[(0,r.bF)(o,{class:"text-h5 text-center"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)(" Login ")]))),_:1}),(0,r.bF)(k,null,{default:(0,r.k6)((()=>[(0,r.bF)(m,{ref:"loginForm",modelValue:n.valid,"onUpdate:modelValue":t[2]||(t[2]=e=>n.valid=e)},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:n.form.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.form.username=e),label:"Username",rules:[n.rules.required],clearable:"",outlined:"",dense:""},null,8,["modelValue","rules"]),(0,r.bF)(d,{modelValue:n.form.password,"onUpdate:modelValue":t[1]||(t[1]=e=>n.form.password=e),label:"Password",rules:[n.rules.required],type:"password",clearable:"",outlined:"",dense:""},null,8,["modelValue","rules"]),n.errorMessage?((0,r.uX)(),(0,r.Wv)(u,{key:0,type:"error",class:"mt-3",dismissible:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(n.errorMessage),1)])),_:1})):(0,r.Q3)("",!0),(0,r.bF)(c,{color:"primary",block:"",class:"mt-3",onClick:i.submitLogin,disabled:!n.valid},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)(" Login ")]))),_:1},8,["onClick","disabled"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var B={name:"LoginForm",props:{loginUser:{type:Object,required:!0},currentPage:{type:String,required:!0}},data(){return{form:{username:"",password:""},valid:!0,errorMessage:"",rules:{required:e=>!!e||"This field is required"}}},methods:{async submitLogin(){this.$emit("update:networkRequests","login",this.form),this.errorMessage=""}}};const Q=(0,k.A)(B,[["render",H],["__scopeId","data-v-36f66f87"]]);var K=Q;function G(e,t,a,s,n,i){const l=(0,r.g2)("v-card-title"),o=(0,r.g2)("TaskAssign"),d=(0,r.g2)("v-card-text"),u=(0,r.g2)("v-card"),c=(0,r.g2)("v-col"),m=(0,r.g2)("v-row"),k=(0,r.g2)("TaskReview"),g=(0,r.g2)("v-container");return(0,r.uX)(),(0,r.Wv)(g,null,{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(c,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{outlined:"",class:"mb-4"},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.Lk)("h3",{class:"text-h6"},"Unassigned Tasks",-1)]))),_:1}),(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(o,{tasks:a.tasks,users:a.users,teams:a.teams,loginUser:a.loginUser,onAssignTask:i.handleAssignTask,onTransferTask:i.handleTransferTask,onForfeitTask:i.handleForfeitTask,"onUpdate:isEditingTask":t[0]||(t[0]=t=>e.$emit("update:isEditingTask",t)),"onUpdate:networkRequests":i.pushNetworkRequests},null,8,["tasks","users","teams","loginUser","onAssignTask","onTransferTask","onForfeitTask","onUpdate:networkRequests"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(c,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{outlined:""},{default:(0,r.k6)((()=>[(0,r.bF)(l,null,{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.Lk)("h3",{class:"text-h6"},"Tasks To Review",-1)]))),_:1}),(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(k,{tasks:a.tasks,users:a.users,onTaskRated:i.handleTaskRated,"onUpdate:isEditingTask":t[1]||(t[1]=t=>e.$emit("update:isEditingTask",t)),"onUpdate:networkRequests":i.pushNetworkRequests},null,8,["tasks","users","onTaskRated","onUpdate:networkRequests"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}const J={class:"task-details"},z={key:0},Y={key:1},Z={key:2},ee={class:"comments-section"};function te(e,t,a,n,i,o){const d=(0,r.g2)("v-chip"),u=(0,r.g2)("v-list-item-title"),c=(0,r.g2)("v-list-item-subtitle"),m=(0,r.g2)("v-list-item-content"),k=(0,r.g2)("v-icon"),g=(0,r.g2)("v-btn"),p=(0,r.g2)("v-list-item"),h=(0,r.g2)("v-list"),f=(0,r.g2)("v-expand-transition"),b=(0,r.g2)("v-menu"),v=(0,r.g2)("VueDatepicker"),T=(0,r.g2)("v-card"),y=(0,r.g2)("v-card-actions"),w=(0,r.g2)("v-textarea"),_=(0,r.g2)("v-col"),F=(0,r.g2)("v-row"),C=(0,r.g2)("v-container");return(0,r.uX)(),(0,r.Wv)(C,null,{default:(0,r.k6)((()=>[(0,r.bF)(F,null,{default:(0,r.k6)((()=>[(0,r.bF)(_,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{dense:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.unassignedTasks,(n=>((0,r.uX)(),(0,r.Wv)(p,{key:n.taskId,class:"task-item"},{default:(0,r.k6)((()=>[(0,r.bF)(m,{onClick:t=>e.$emit("update:isEditingTask",n.taskId)},{default:(0,r.k6)((()=>[(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.Lk)("strong",null,(0,l.v_)(n.title),1),(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(o.getTeamName(n.team)),1)])),_:2},1024)])),_:2},1024),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[t[2]||(t[2]=(0,r.Lk)("strong",null,"Deadline:",-1)),(0,r.eW)(" "+(0,l.v_)(o.formatDate(n.deadline))+" ",1),(0,r.bF)(d,{color:o.getPriorityColor(n.priority),class:"priority-chip",small:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(n.priority),1)])),_:2},1032,["color"])])),_:2},1024)])),_:2},1032,["onClick"]),(0,r.bF)(g,{icon:"",onClick:e=>o.toggleTask(n.taskId)},{default:(0,r.k6)((()=>[(0,r.bF)(k,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(o.isTaskExpanded(n.taskId)?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,r.bF)(f,null,{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("div",J,[n.delegatedFrom?((0,r.uX)(),(0,r.CE)("p",z,[t[3]||(t[3]=(0,r.Lk)("strong",null,"Received From:",-1)),(0,r.eW)(" "+(0,l.v_)(n.delegatedFrom),1)])):(0,r.Q3)("",!0),n.description?((0,r.uX)(),(0,r.CE)("p",Y,[t[4]||(t[4]=(0,r.Lk)("strong",null,"Description:",-1)),(0,r.eW)(" "+(0,l.v_)(n.description),1)])):(0,r.Q3)("",!0),(0,r.Lk)("p",null,[t[5]||(t[5]=(0,r.Lk)("strong",null,"Estimated Hours Needed:",-1)),(0,r.eW)(" "+(0,l.v_)(n.estimatedHours)+" hours",1)]),(0,r.Lk)("p",null,[t[6]||(t[6]=(0,r.Lk)("strong",null,"Created By:",-1)),(0,r.eW)(" "+(0,l.v_)(o.getUserName(n.createdBy)),1)]),n.valueGenerated?((0,r.uX)(),(0,r.CE)("p",Z,[t[7]||(t[7]=(0,r.Lk)("strong",null,"Value:",-1)),(0,r.eW)(" $"+(0,l.v_)(n.valueGenerated),1)])):(0,r.Q3)("",!0),(0,r.bF)(g,{text:"",small:"",color:"primary",onClick:e=>o.toggleComments(n.taskId)},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(o.areCommentsExpanded(n.taskId)?"Hide Comments":"Show Comments"),1)])),_:2},1032,["onClick"]),(0,r.bF)(f,null,{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("div",ee,[(0,r.bF)(h,{dense:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.comments,(e=>((0,r.uX)(),(0,r.Wv)(p,{key:e.commentId},{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,l.v_)(o.getUserName(e.author)),1),(0,r.eW)(": "+(0,l.v_)(e.content),1)])])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)],512),[[s.aG,o.areCommentsExpanded(n.taskId)]])])),_:2},1024),(0,r.bF)(y,null,{default:(0,r.k6)((()=>[o.isAdmin(n.team)?((0,r.uX)(),(0,r.Wv)(g,{key:0,color:"success"},{default:(0,r.k6)((()=>[t[8]||(t[8]=(0,r.eW)(" Assign ")),(0,r.bF)(b,{activator:"parent"},{default:(0,r.k6)((()=>[(0,r.bF)(h,null,{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.teams[n.team].userPermissions,(e=>((0,r.uX)(),(0,r.Wv)(p,{key:e.userId,value:e.userId,onClick:t=>o.assignTask(n,e.userId)},{default:(0,r.k6)((()=>[(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(e.userId),1)])),_:2},1024)])),_:2},1032,["value","onClick"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,r.Q3)("",!0),o.isAdmin(n.team)?((0,r.uX)(),(0,r.Wv)(g,{key:1,color:"success"},{default:(0,r.k6)((()=>[t[11]||(t[11]=(0,r.eW)(" Auction ")),(0,r.bF)(b,{activator:"parent","close-on-content-click":!1,location:e.bottom},{default:(0,r.k6)((()=>[(0,r.bF)(h,null,{default:(0,r.k6)((()=>[(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(T,{"min-width":"300","min-height":"400"},{default:(0,r.k6)((()=>[t[10]||(t[10]=(0,r.Lk)("label",{for:"date-time-picker"},"Deadline",-1)),(0,r.bF)(v,{modelValue:i.auctionDeadline,"onUpdate:modelValue":t[0]||(t[0]=e=>i.auctionDeadline=e),format:"dd-MM-yyyy HH:mm",flow:["year","month","calendar","time"],"partial-flow":!0,"year-first":!0,"enable-time":!0,"start-time":{hours:0,minutes:0},"auto-apply":!0,"use-24-hour":!0,locale:"en-US",id:"date-time-picker","input-class":"custom-input"},null,8,["modelValue"]),(0,r.bF)(g,{color:"primary",onClick:e=>o.auctionTask(n,i.auctionDeadline)},{default:(0,r.k6)((()=>t[9]||(t[9]=[(0,r.eW)(" Send ")]))),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["location"])])),_:2},1024)):(0,r.Q3)("",!0),o.isAdmin(n.team)?((0,r.uX)(),(0,r.Wv)(g,{key:2,color:"info"},{default:(0,r.k6)((()=>[t[12]||(t[12]=(0,r.eW)(" Transfer ")),(0,r.bF)(b,{activator:"parent"},{default:(0,r.k6)((()=>[(0,r.bF)(h,null,{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.getTeams(),(e=>((0,r.uX)(),(0,r.Wv)(p,{key:e,title:a.teams[e].teamName,value:e,onClick:t=>o.transferTask(n,e)},{default:(0,r.k6)((()=>[(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(o.getTeamName(e)),1)])),_:2},1024)])),_:2},1032,["title","value","onClick"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,r.Q3)("",!0)])),_:2},1024),(0,r.bF)(y,null,{default:(0,r.k6)((()=>[(0,r.bF)(g,{onClick:e=>o.acceptTask(n),color:"success"},{default:(0,r.k6)((()=>t[13]||(t[13]=[(0,r.eW)(" Accept ")]))),_:2},1032,["onClick"]),(0,r.bF)(g,{color:"error"},{default:(0,r.k6)((()=>[t[15]||(t[15]=(0,r.eW)(" Forfeit ")),(0,r.bF)(b,{activator:"parent","close-on-content-click":!1},{default:(0,r.k6)((()=>[(0,r.bF)(h,null,{default:(0,r.k6)((()=>[(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(w,{"min-width":"300",modelValue:i.forfeitText,"onUpdate:modelValue":t[1]||(t[1]=e=>i.forfeitText=e),label:"Reason for forfeiting the task"},null,8,["modelValue"])])),_:1}),(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(g,{color:"primary",onClick:e=>o.forfeitTask(n,i.forfeitText)},{default:(0,r.k6)((()=>t[14]||(t[14]=[(0,r.eW)(" Send ")]))),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)],512),[[s.aG,o.isTaskExpanded(n.taskId)]])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}var ae={name:"TaskAssign",props:{tasks:{type:Array,required:!0},users:{type:Array,required:!0},teams:{type:Object,required:!0},loginUser:{type:Object,required:!0}},data(){return{expandedTasks:{},expandedComments:{},forfeitText:"",auctionDeadline:""}},computed:{unassignedTasks(){return this.tasks.filter((e=>0==e.subtasks.length&&("Pending Approval"==e.status&&"Assigned"==e.type&&-1!=e.assignedTo.indexOf(this.loginUser.userId)||"Unassigned"===e.type&&"manager"==this.teams[e.team].userPermissions.find((e=>e.userId==this.loginUser.userId)).permissionLevel)))}},methods:{acceptTask(e){let t=structuredClone(e);this.$emit("update:networkRequests","task-accept",t)},assignTask(e,t){let a=structuredClone(e);a.assignedTo=[t],this.$emit("update:networkRequests","task-assign",a)},auctionTask(e,t){let a=structuredClone(e);a.auction={},a.auction.deadline=t.toISOString(),this.$emit("update:networkRequests","task-auction",a)},transferTask(e,t){this.$emit("update:networkRequests","task-transfer",{task:e,teamId:t})},forfeitTask(e,t){let a=structuredClone(e);a.forfeitText=t,this.$emit("update:networkRequests","task-forfeit",a)},getUserName(e){const t=this.users.find((t=>t.userId===e));return t?t.username:"Unknown User"},getTeamName(e){const t=Object.values(this.teams).find((t=>t.teamId===e));return t?t.teamName:"Unknown Team"},isAdmin(e){if(!e)return!1;const t=this.teams[e].userPermissions.find((e=>e.userId===this.loginUser.userId));return"manager"===t.permissionLevel},getTeams(){let e=[],t=[];for(let a of this.loginUser.teams)this.isAdmin(a)&&(e.push(a),this.teams[a].allowedSendToTeams&&t.push(...this.teams[a].allowedSendToTeams));for(let a of t)-1==e.indexOf(a)&&e.push(a);return e},getPriorityColor(e){const t={High:"red",Medium:"orange",Low:"green",None:"gray"};return t[e]||"gray"},formatDate(e){const t=new Date(e);return t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},toggleTask(e){this.expandedTasks[e]=!this.expandedTasks[e]},isTaskExpanded(e){return!!this.expandedTasks[e]},toggleComments(e){this.expandedComments[e]=!this.expandedComments[e]},areCommentsExpanded(e){return!!this.expandedComments[e]}}};const se=(0,k.A)(ae,[["render",te],["__scopeId","data-v-12d35abe"]]);var re=se;const ne={class:"task-details"},ie={class:"comments-section"},le={align:"center",class:"mt-3"},oe={class:"stars"};function de(e,t,a,n,i,o){const d=(0,r.g2)("v-list-item-title"),u=(0,r.g2)("v-chip"),c=(0,r.g2)("v-list-item-subtitle"),m=(0,r.g2)("v-list-item-content"),k=(0,r.g2)("v-icon"),g=(0,r.g2)("v-btn"),p=(0,r.g2)("v-list-item"),h=(0,r.g2)("v-list"),f=(0,r.g2)("v-expand-transition"),b=(0,r.g2)("v-spacer"),v=(0,r.g2)("v-text-field"),T=(0,r.g2)("v-col"),y=(0,r.g2)("v-row"),w=(0,r.g2)("v-container");return(0,r.uX)(),(0,r.Wv)(w,null,{default:(0,r.k6)((()=>[(0,r.bF)(y,null,{default:(0,r.k6)((()=>[(0,r.bF)(T,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{dense:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.reviewTasks,(a=>((0,r.uX)(),(0,r.Wv)(p,{key:a.taskId,class:"task-item"},{default:(0,r.k6)((()=>[(0,r.bF)(m,{onClick:t=>e.$emit("update:isEditingTask",a.taskId)},{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.Lk)("strong",null,(0,l.v_)(a.title),1)])),_:2},1024),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[t[0]||(t[0]=(0,r.Lk)("strong",null,"Deadline:",-1)),(0,r.eW)(" "+(0,l.v_)(o.formatDate(a.deadline))+" ",1),(0,r.bF)(u,{color:o.getPriorityColor(a.priority),class:"priority-chip",small:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(a.priority),1)])),_:2},1032,["color"])])),_:2},1024)])),_:2},1032,["onClick"]),(0,r.bF)(g,{icon:"",onClick:e=>o.toggleTask(a.taskId)},{default:(0,r.k6)((()=>[(0,r.bF)(k,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(o.isTaskExpanded(a.taskId)?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,r.bF)(f,null,{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("div",ne,[(0,r.Lk)("p",null,[t[1]||(t[1]=(0,r.Lk)("strong",null,"Description:",-1)),(0,r.eW)(" "+(0,l.v_)(a.description),1)]),(0,r.Lk)("p",null,[t[2]||(t[2]=(0,r.Lk)("strong",null,"Estimated Hours:",-1)),(0,r.eW)(" "+(0,l.v_)(a.estimatedHours),1)]),(0,r.Lk)("p",null,[t[3]||(t[3]=(0,r.Lk)("strong",null,"Created By:",-1)),(0,r.eW)(" "+(0,l.v_)(o.getUserName(a.createdBy)),1)]),(0,r.Lk)("p",null,[t[4]||(t[4]=(0,r.Lk)("strong",null,"Value:",-1)),(0,r.eW)(" $"+(0,l.v_)(a.valueGenerated),1)]),(0,r.bF)(g,{text:"",small:"",color:"primary",onClick:e=>o.toggleComments(a.taskId)},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(o.areCommentsExpanded(a.taskId)?"Hide Comments":"Show Comments"),1)])),_:2},1032,["onClick"]),(0,r.bF)(f,null,{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("div",ie,[(0,r.bF)(h,{dense:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.comments,(e=>((0,r.uX)(),(0,r.Wv)(p,{key:e.commentId},{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,l.v_)(o.getUserName(e.author)),1),(0,r.eW)(": "+(0,l.v_)(e.content),1)])])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)],512),[[s.aG,o.areCommentsExpanded(a.taskId)]])])),_:2},1024),(0,r.Lk)("div",le,[t[6]||(t[6]=(0,r.Lk)("span",null,[(0,r.Lk)("strong",null,"Rate Task:")],-1)),(0,r.bF)(b),(0,r.Lk)("div",oe,[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(5,(e=>(0,r.bF)(k,{key:e,color:e<=a.rating?"yellow":"gray",onClick:t=>o.rateTask(a,e),class:"star-icon"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)(" mdi-star ")]))),_:2},1032,["color","onClick"]))),64)),(0,r.bF)(v,{label:"Add Feedback",modelValue:a.valuation.feedback,"onUpdate:modelValue":e=>a.valuation.feedback=e},null,8,["modelValue","onUpdate:modelValue"])])])],512),[[s.aG,o.isTaskExpanded(a.taskId)]])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}var ue={name:"TaskReview",props:{tasks:{type:Array,required:!0},users:{type:Array,required:!0}},data(){return{expandedTasks:{},expandedComments:{}}},computed:{reviewTasks(){return this.tasks.filter((e=>"Review"===e.type))}},methods:{getUserName(e){const t=this.users.find((t=>t.userId===e));return t?t.username:"Unknown User"},getPriorityColor(e){const t={High:"red",Medium:"orange",Low:"green",None:"gray"};return t[e]||"gray"},formatDate(e){const t=new Date(e);return t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},toggleTask(e){this.expandedTasks[e]=!this.expandedTasks[e]},isTaskExpanded(e){return!!this.expandedTasks[e]},toggleComments(e){this.expandedComments[e]=!this.expandedComments[e]},areCommentsExpanded(e){return!!this.expandedComments[e]},rateTask(e,t){e.valuation.completionRating=t,console.log(`Rated task ${e.taskId} with ${t} stars`),this.$emit("update:networkRequests","task-review",e)}}};const ce=(0,k.A)(ue,[["render",de],["__scopeId","data-v-619216d3"]]);var me=ce,ke={name:"TaskInbox",components:{TaskAssign:re,TaskReview:me},props:{tasks:{type:Array,required:!0},users:{type:Array,required:!0},teams:{type:Object,required:!0},loginUser:{type:Object,required:!0}},methods:{handleAssignTask(e){console.log("Assign Task:",e)},handleTransferTask(e){console.log("Transfer Task:",e)},handleForfeitTask(e){console.log("Forfeit Task:",e)},handleTaskRated({taskId:e,rating:t}){console.log(`Task ${e} rated with ${t} stars`)},pushNetworkRequests(e,t=null,a=null){console.log(t),this.$emit("update:networkRequests",e,t,a)}}};const ge=(0,k.A)(ke,[["render",G],["__scopeId","data-v-5cf610a8"]]);var pe=ge;function he(e,t,a,s,n,i){const o=(0,r.g2)("v-card-title"),d=(0,r.g2)("v-text-field"),u=(0,r.g2)("v-btn"),c=(0,r.g2)("v-card-text"),m=(0,r.g2)("v-card"),k=(0,r.g2)("TeamNode"),g=(0,r.g2)("v-expansion-panels"),p=(0,r.g2)("v-col"),h=(0,r.g2)("v-row"),f=(0,r.g2)("TeamEditor"),b=(0,r.g2)("v-container");return(0,r.uX)(),(0,r.Wv)(b,{fluid:""},{default:(0,r.k6)((()=>[(0,r.bF)(h,null,{default:(0,r.k6)((()=>[(0,r.bF)(p,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(o,null,{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.Lk)("h2",null,"User",-1)]))),_:1}),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.Lk)("h3",null,"Username: "+(0,l.v_)(this.loginUser.username),1),(0,r.Lk)("h3",null,"User email: "+(0,l.v_)(this.loginUser.userId),1),(0,r.bF)(d,{modelValue:n.newPassword,"onUpdate:modelValue":t[0]||(t[0]=e=>n.newPassword=e),label:"New Password","append-inner-icon":"mdi-send","onClick:appendInner":i.changePassword,type:"password"},null,8,["modelValue","onClick:appendInner"]),(0,r.bF)(u,{color:"primary",onClick:t[1]||(t[1]=t=>e.$emit("update:networkRequests","logout",null))},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)(" Log out ")]))),_:1})])),_:1})])),_:1}),(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(o,null,{default:(0,r.k6)((()=>[t[6]||(t[6]=(0,r.Lk)("h2",null,"Teams",-1)),(0,r.bF)(u,{color:"primary",onClick:i.addTeam},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)(" Create Team ")]))),_:1},8,["onClick"])])),_:1}),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(g,{focusable:"",multiple:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.rootTeams,(e=>((0,r.uX)(),(0,r.Wv)(k,{key:e.teamId,team:e,teams:a.teams,loginUser:a.loginUser,onOpenEditor:i.openTeamEditor,onAddSubteam:i.addSubteam},null,8,["team","teams","loginUser","onOpenEditor","onAddSubteam"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n.selectedTeam?((0,r.uX)(),(0,r.Wv)(f,{key:0,team:n.selectedTeam,teams:a.teams,networkRequests:a.networkRequests,onClose:t[2]||(t[2]=e=>n.selectedTeam=null),onUpdateTeam:i.updateTeam,"onUpdate:networkRequests":i.pushNetworkRequests},null,8,["team","teams","networkRequests","onUpdateTeam","onUpdate:networkRequests"])):(0,r.Q3)("",!0)])),_:1})}function fe(e,t,a,s,n,i){const o=(0,r.g2)("v-card-title"),d=(0,r.g2)("v-text-field"),u=(0,r.g2)("v-list-item-content"),c=(0,r.g2)("v-select"),m=(0,r.g2)("v-list-item"),k=(0,r.g2)("v-list"),g=(0,r.g2)("v-btn"),p=(0,r.g2)("v-card-text"),h=(0,r.g2)("v-card-actions"),f=(0,r.g2)("v-card"),b=(0,r.g2)("v-dialog");return(0,r.uX)(),(0,r.Wv)(b,{modelValue:n.show,"onUpdate:modelValue":t[5]||(t[5]=e=>n.show=e),"max-width":"800"},{default:(0,r.k6)((()=>[(0,r.bF)(f,null,{default:(0,r.k6)((()=>[(0,r.bF)(o,null,{default:(0,r.k6)((()=>[(0,r.Lk)("h3",null,"Edit Team: "+(0,l.v_)(i.currentTeam.teamName),1)])),_:1}),(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:i.currentTeam.teamName,"onUpdate:modelValue":t[0]||(t[0]=e=>i.currentTeam.teamName=e),label:"Team Name",dense:"",outlined:""},null,8,["modelValue"]),(0,r.bF)(d,{modelValue:i.currentTeam.teamCode,"onUpdate:modelValue":t[1]||(t[1]=e=>i.currentTeam.teamCode=e),"append-inner-icon":"mdi-content-copy",label:"Team Code",type:"text",variant:"filled","onClick:appendInner":t[2]||(t[2]=e=>i.copyText(i.currentTeam.teamCode))},null,8,["modelValue"]),t[8]||(t[8]=(0,r.Lk)("h4",null,"Users",-1)),(0,r.bF)(k,null,{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.currentTeam.userPermissions,(e=>((0,r.uX)(),(0,r.Wv)(m,{key:e.userId},{default:(0,r.k6)((()=>[(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(e.userId),1)])),_:2},1024),(0,r.bF)(c,{modelValue:e.permissionLevel,"onUpdate:modelValue":t=>e.permissionLevel=t,items:n.permissionLevels,label:"Permission Level",dense:""},null,8,["modelValue","onUpdate:modelValue","items"])])),_:2},1024)))),128))])),_:1}),(0,r.bF)(g,{color:"primary",text:"",onClick:i.addUser},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("Add User")]))),_:1},8,["onClick"]),(0,r.bF)(d,{modelValue:n.currentUser,"onUpdate:modelValue":t[3]||(t[3]=e=>n.currentUser=e),label:"Invite by email adress"},null,8,["modelValue"]),t[9]||(t[9]=(0,r.Lk)("h4",null,"Allow Receive From Teams",-1)),(0,r.bF)(k,null,{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.currentTeam.allowedReceiveFromTeams,(e=>((0,r.uX)(),(0,r.Wv)(m,{key:e},{default:(0,r.k6)((()=>[(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(i.getTeamName(e)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),t[10]||(t[10]=(0,r.Lk)("h4",null,"Allow Send To Teams",-1)),(0,r.bF)(k,null,{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.currentTeam.allowedSendToTeams,(e=>((0,r.uX)(),(0,r.Wv)(m,{key:e},{default:(0,r.k6)((()=>[(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(i.getTeamName(e)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,r.bF)(g,{color:"primary",text:"",onClick:i.addSendToTeam},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)(" Add Team ")]))),_:1},8,["onClick"]),(0,r.bF)(d,{modelValue:n.currentSendToTeam,"onUpdate:modelValue":t[4]||(t[4]=e=>n.currentSendToTeam=e),label:"Add by team code"},null,8,["modelValue"])])),_:1}),(0,r.bF)(h,null,{default:(0,r.k6)((()=>[(0,r.bF)(g,{text:"",color:"secondary",onClick:i.close},{default:(0,r.k6)((()=>t[11]||(t[11]=[(0,r.eW)("Close")]))),_:1},8,["onClick"]),(0,r.bF)(g,{text:"",color:"primary",onClick:i.save},{default:(0,r.k6)((()=>t[12]||(t[12]=[(0,r.eW)("Save")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var be={name:"TeamEditor",props:{team:{type:Object,required:!0},teams:{type:Object,required:!0},networkRequests:{type:Array,required:!0}},data(){return{show:!0,permissionLevels:["manager","reviewer","member"],currentUser:"",currentSendToTeam:"",currentReceiveFromTream:""}},computed:{currentTeam(){return this.teams[this.team.teamId]}},methods:{getTeamName(e){const t=this.teams[e];return t?t.teamName:"Unknown Team"},addUser(){this.$emit("update:networkRequests","add-user",{teamId:this.team.teamId,userId:this.currentUser}),this.currentUser=""},addSendToTeam(){this.$emit("update:networkRequests","add-send-to-team",{teamId:this.team.teamId,sendToTeam:this.currentSendToTeam}),console.log("ADD AUTHORIZED",this.team.teamName)},addReceiveFromTeam(){this.$emit("update:networkRequests","add-receive-from-team",{teamId:this.team.teamId,receiveFromTeam:this.currentReceiveFromTeam}),console.log("ADD AUTHORIZED",this.team.teamName)},close(){this.$emit("close")},save(){this.$emit("update:networkRequests","update-team",this.team),this.close()},copyText(){navigator.clipboard.writeText(this.currentTeam.teamCode)}}};const ve=(0,k.A)(be,[["render",fe]]);var Te=ve;const ye={class:"team-node"},we={class:"team-header d-flex align-center justify-space-between"},_e={key:0,class:"team-content"},Fe={key:0},Ce={class:"sub-team"};function Ie(e,t,a,n,i,o){const d=(0,r.g2)("v-icon"),u=(0,r.g2)("v-btn"),c=(0,r.g2)("TeamNode",!0);return(0,r.uX)(),(0,r.CE)("div",ye,[(0,r.Lk)("div",we,[(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,l.v_)(a.team.teamName),1)]),o.canEditTeam?((0,r.uX)(),(0,r.Wv)(u,{key:0,icon:"",onClick:(0,s.D$)(o.openEditor,["stop"])},{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)("mdi-pencil")]))),_:1})])),_:1},8,["onClick"])):(0,r.Q3)("",!0),(0,r.bF)(u,{icon:"",onClick:o.toggleExpanded},{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(i.isExpanded?"mdi-chevron-down":"mdi-chevron-right"),1)])),_:1})])),_:1},8,["onClick"])]),i.isExpanded?((0,r.uX)(),(0,r.CE)("div",_e,[a.team.teams.length?((0,r.uX)(),(0,r.CE)("div",Fe,[t[3]||(t[3]=(0,r.Lk)("h4",null,"Sub-teams:",-1)),(0,r.Lk)("div",Ce,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.team.teams,(s=>((0,r.uX)(),(0,r.Wv)(c,{key:s,team:a.teams[s],teams:a.teams,loginUser:a.loginUser,onOpenEditor:t[0]||(t[0]=t=>e.$emit("open-editor",t)),onAddSubteam:t[1]||(t[1]=t=>e.$emit("add-subteam",t))},null,8,["team","teams","loginUser"])))),128))])])):(0,r.Q3)("",!0),o.canEditTeam?((0,r.uX)(),(0,r.Wv)(u,{key:1,color:"primary",text:"",onClick:o.addSubteam},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)(" Add Sub-team ")]))),_:1},8,["onClick"])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])}var Ue={name:"TeamNode",props:{team:{type:Object,required:!0},teams:{type:Object,required:!0},loginUser:{type:Object,required:!0}},data(){return{isExpanded:!1}},computed:{canEditTeam(){const e=this.team.userPermissions.find((e=>e.userId===this.loginUser.userId));return"manager"===e?.permissionLevel}},methods:{toggleExpanded(){this.isExpanded=!this.isExpanded},openEditor(){this.$emit("open-editor",this.team)},addSubteam(){this.$emit("add-subteam",this.team)}}};const Se=(0,k.A)(Ue,[["render",Ie],["__scopeId","data-v-229b5140"]]);var De=Se,Le={name:"SettingsEdit",components:{TeamEditor:Te,TeamNode:De},props:{teams:{type:Object,required:!0},networkRequests:{type:Array,required:!0},loginUser:{type:Object,required:!0}},data(){return{selectedTeam:null,newPassword:""}},computed:{rootTeams(){return Object.values(this.teams).filter((e=>!Object.values(this.teams).some((t=>t.teams.includes(e.teamId)))))}},methods:{changePassword(){this.$emit("update:networkRequests","change-password",{password:this.newPassword})},openTeamEditor(e){this.selectedTeam=e},addSubteam(e){this.$emit("update:networkRequests","add-subteam",e)},addTeam(){this.$emit("update:networkRequests","add-team")},updateTeam(e){this.$set(this.teams,e.teamId,e)},pushNetworkRequests(e,t=null,a=null){this.$emit("update:networkRequests",e,t,a)}}};const xe=(0,k.A)(Le,[["render",he]]);var Ee=xe;function Ve(e,t,a,s,n,i){const l=(0,r.g2)("v-card-title"),o=(0,r.g2)("v-card-text"),d=(0,r.g2)("v-card"),u=(0,r.g2)("v-col"),c=(0,r.g2)("v-row"),m=(0,r.g2)("v-container");return(0,r.uX)(),(0,r.Wv)(m,{fluid:""},{default:(0,r.k6)((()=>[(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.bF)(u,{cols:"12",md:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{class:"pa-3"},{default:(0,r.k6)((()=>[(0,r.bF)(l,{class:"text-h6"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)(" Value Generated by User ")]))),_:1}),(0,r.bF)(o,null,{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.Lk)("canvas",{id:"userValueChart"},null,-1)]))),_:1})])),_:1})])),_:1}),(0,r.bF)(u,{cols:"12",md:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{class:"pa-3"},{default:(0,r.k6)((()=>[(0,r.bF)(l,{class:"text-h6"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)(" Value Generated by Task Status ")]))),_:1}),(0,r.bF)(o,null,{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.Lk)("canvas",{id:"statusValueChart"},null,-1)]))),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}a(3949);var Ae=a(2022);Ae.t1.register(...Ae.$L);var We={name:"TaskStatistics",props:{tasks:{type:Array,required:!0},users:{type:Array,required:!0}},data(){return{userValueData:{},statusValueData:{}}},mounted(){this.calculateData(),this.renderUserValueChart(),this.renderStatusValueChart()},watch:{currentTask:{immediate:!0,deep:!0,handler(e){e&&(this.calculateData(),this.renderUserValueChart(),this.renderStatusValueChart())}}},methods:{calculateData(){this.userValueData={},this.statusValueData={},this.tasks.forEach((e=>{const t=e.valueGenerated*(e.progressCalculated||0)/100;e.assignedTo.forEach((e=>{const a=this.users.find((t=>t.userId===e)),s=a?a.username:"Unknown User";this.userValueData[s]||(this.userValueData[s]=0),this.userValueData[s]+=t}));const a=e.status||"Unknown";this.statusValueData[a]||(this.statusValueData[a]=0),this.statusValueData[a]+=t}))},renderUserValueChart(){const e=document.getElementById("userValueChart").getContext("2d");new Ae.t1(e,{type:"bar",data:{labels:Object.keys(this.userValueData),datasets:[{label:"Value Generated ($)",data:Object.values(this.userValueData),backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!0}},scales:{x:{title:{display:!0,text:"Users"}},y:{title:{display:!0,text:"Value Generated ($)"}}}}})},renderStatusValueChart(){const e=document.getElementById("statusValueChart").getContext("2d");new Ae.t1(e,{type:"pie",data:{labels:Object.keys(this.statusValueData),datasets:[{label:"Value Generated ($)",data:Object.values(this.statusValueData),backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},tooltip:{enabled:!0}}}})}}};const Pe=(0,k.A)(We,[["render",Ve],["__scopeId","data-v-4da06d23"]]);var Re=Pe;const qe={class:"task-details"},Ne={class:"comments-section"},Oe={align:"center",class:"mt-3"},Xe={class:"text-h6"};function $e(e,t,a,n,i,o){const d=(0,r.g2)("v-list-item-title"),u=(0,r.g2)("v-chip"),c=(0,r.g2)("v-list-item-subtitle"),m=(0,r.g2)("v-list-item-content"),k=(0,r.g2)("v-icon"),g=(0,r.g2)("v-btn"),p=(0,r.g2)("v-list-item"),h=(0,r.g2)("v-list"),f=(0,r.g2)("v-expand-transition"),b=(0,r.g2)("v-card-title"),v=(0,r.g2)("v-divider"),T=(0,r.g2)("v-text-field"),y=(0,r.g2)("v-form"),w=(0,r.g2)("v-card-text"),_=(0,r.g2)("v-card"),F=(0,r.g2)("v-col"),C=(0,r.g2)("v-row"),I=(0,r.g2)("v-container");return(0,r.uX)(),(0,r.Wv)(I,null,{default:(0,r.k6)((()=>[(0,r.bF)(C,null,{default:(0,r.k6)((()=>[(0,r.bF)(F,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{dense:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.filteredTasks,(a=>((0,r.uX)(),(0,r.Wv)(p,{key:a.taskId,class:"task-item"},{default:(0,r.k6)((()=>[(0,r.bF)(m,{onClick:t=>e.$emit("update:isEditingTask",a.taskId)},{default:(0,r.k6)((()=>[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.Lk)("strong",null,(0,l.v_)(a.title),1)])),_:2},1024),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.Lk)("p",null,[t[2]||(t[2]=(0,r.Lk)("strong",null,"Ends In:",-1)),(0,r.eW)(" "+(0,l.v_)(o.getRemainingTime(a)),1)]),(0,r.bF)(u,{color:o.getPriorityColor(a.priority),class:"priority-chip",small:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(a.priority),1)])),_:2},1032,["color"])])),_:2},1024),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.Lk)("p",null,[t[3]||(t[3]=(0,r.Lk)("strong",null,"Estimated Time:",-1)),(0,r.eW)(" "+(0,l.v_)(a.estimatedHours)+" hours",1)])])),_:2},1024),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.Lk)("p",null,[t[4]||(t[4]=(0,r.Lk)("strong",null,"Min Bid:",-1)),(0,r.eW)(" "+(0,l.v_)(o.getMinimumBid(a))+" hours",1)])])),_:2},1024)])),_:2},1032,["onClick"]),(0,r.bF)(g,{icon:"",onClick:e=>o.toggleTask(a.taskId)},{default:(0,r.k6)((()=>[(0,r.bF)(k,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(o.isTaskExpanded(a.taskId)?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,r.bF)(f,null,{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("div",qe,[(0,r.Lk)("p",null,[t[5]||(t[5]=(0,r.Lk)("strong",null,"Created By:",-1)),(0,r.eW)(" "+(0,l.v_)(o.getUserName(a.createdBy)),1)]),(0,r.Lk)("p",null,[t[6]||(t[6]=(0,r.Lk)("strong",null,"Deadline:",-1)),(0,r.eW)(" "+(0,l.v_)(o.formatDate(a.deadline)),1)]),(0,r.Lk)("p",null,[t[7]||(t[7]=(0,r.Lk)("strong",null,"Description:",-1)),(0,r.eW)(" "+(0,l.v_)(a.description),1)]),(0,r.bF)(g,{text:"",small:"",color:"primary",onClick:e=>o.toggleComments(a.taskId)},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(o.areCommentsExpanded(a.taskId)?"Hide Comments":"Show Comments"),1)])),_:2},1032,["onClick"]),(0,r.bF)(f,null,{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("div",Ne,[(0,r.bF)(h,{dense:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.comments,(e=>((0,r.uX)(),(0,r.Wv)(p,{key:e.commentId},{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,l.v_)(o.getUserName(e.author)),1),(0,r.eW)(": "+(0,l.v_)(e.content),1)])])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)],512),[[s.aG,o.areCommentsExpanded(a.taskId)]])])),_:2},1024),(0,r.Lk)("div",Oe,[(0,r.bF)(C,{justify:"center",class:"mt-5"},{default:(0,r.k6)((()=>[(0,r.bF)(F,{cols:"12",md:"8"},{default:(0,r.k6)((()=>[(0,r.bF)(_,{class:"pa-3"},{default:(0,r.k6)((()=>[(0,r.bF)(b,null,{default:(0,r.k6)((()=>[(0,r.Lk)("span",Xe,"Bids for Task: "+(0,l.v_)(a.title),1)])),_:2},1024),(0,r.bF)(v),(0,r.bF)(w,null,{default:(0,r.k6)((()=>[(0,r.bF)(h,{dense:""},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.sortedBids(a),(e=>((0,r.uX)(),(0,r.Wv)(p,{key:e.userId,class:"bid-item"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",null,[(0,r.bF)(d,null,{default:(0,r.k6)((()=>[(0,r.Lk)("strong",null,(0,l.v_)(o.getUserName(e.userId)),1)])),_:2},1024),(0,r.bF)(c,null,{default:(0,r.k6)((()=>[t[8]||(t[8]=(0,r.Lk)("strong",null,"Bid Hours:",-1)),(0,r.eW)(" "+(0,l.v_)(e.bidHours)+" hours ",1)])),_:2},1024)])])),_:2},1024)))),128))])),_:2},1024),(0,r.bF)(v,{class:"my-4"}),t[10]||(t[10]=(0,r.Lk)("h4",{class:"text-h6"},"Place Your Bid",-1)),(0,r.bF)(y,{ref_for:!0,ref:"bidForm",modelValue:i.bidFormValid,"onUpdate:modelValue":t[1]||(t[1]=e=>i.bidFormValid=e)},{default:(0,r.k6)((()=>[(0,r.bF)(T,{modelValue:i.newBidHours,"onUpdate:modelValue":t[0]||(t[0]=e=>i.newBidHours=e),modelModifiers:{number:!0},label:"Enter Bid Hours",type:"number",min:"1",rules:[i.rules.required,i.rules.positive],dense:"",outlined:"",class:"mb-3"},null,8,["modelValue","rules"]),(0,r.bF)(g,{color:"primary",block:"",onClick:e=>o.placeBid(a)},{default:(0,r.k6)((()=>t[9]||(t[9]=[(0,r.eW)(" Place Bid ")]))),_:2},1032,["onClick"])])),_:2},1032,["modelValue"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])],512),[[s.aG,o.isTaskExpanded(a.taskId)]])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}var je={name:"TaskReview",props:{tasks:{type:Array,required:!0},users:{type:Array,required:!0},loginUser:{type:Object,required:!0}},data(){return{newBidHours:null,bidFormValid:!1,rules:{required:e=>!!e||"This field is required",positive:e=>e>0||"Value must be greater than 0"},expandedTasks:{},expandedComments:{}}},mounted(){this.updateAuction()},computed:{filteredTasks(){return this.tasks.filter((e=>"Auctioned"===e.type&&!e.auction.isAuctioned))}},methods:{sortedBids(e){return e&&e.auction?[...e.auction.bids].sort(((e,t)=>e.bidHours-t.bidHours)):[]},getUserName(e){const t=this.users.find((t=>t.userId===e));return t?t.username:"Unknown User"},getPriorityColor(e){const t={High:"red",Medium:"orange",Low:"green",None:"gray"};return t[e]||"gray"},formatDate(e){const t=new Date(e);return t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},toggleTask(e){this.expandedTasks[e]=!this.expandedTasks[e]},isTaskExpanded(e){return!!this.expandedTasks[e]},toggleComments(e){this.expandedComments[e]=!this.expandedComments[e]},areCommentsExpanded(e){return!!this.expandedComments[e]},getMinimumBid(e){return e.auction&&0!==e.auction.bids.length?Math.min(...e.auction.bids.map((e=>e.bidHours))):"No bids"},getRemainingTime(e){const t=new Date(e.auction.deadline),a=new Date,s=t-a;if(s<=0)return"Expired";const r=Math.floor(s/864e5),n=Math.floor(s%864e5/36e5),i=Math.floor(s%36e5/6e4);return`${r}d ${n}h ${i}m`},placeBid(e){if(!this.bidFormValid||!e)return;let t={task:e,bid:{userId:this.loginUser.userId,bidHours:this.newBidHours}};this.$emit("update:networkRequests","place-bid",t),this.newBidHours=null},updateAuction(){let e=new Date;e=e.toISOString();for(let t of this.tasks)console.log("Updating Tasks",t.title,e,t.auction.deadline),e>t.auction.deadline&&this.$emit("update:networkRequests","task-auction-update",t)}}};const Me=(0,k.A)(je,[["render",$e],["__scopeId","data-v-355018c8"]]);var He=Me;const Be={class:"text-h6 font-weight-bold"},Qe={href:"/EULA.html"},Ke={href:"/privacy_policy.html"},Ge={href:"/terms_of_service.html"};function Je(e,t,a,s,n,i){const o=(0,r.g2)("v-avatar"),d=(0,r.g2)("v-col"),u=(0,r.g2)("v-btn"),c=(0,r.g2)("v-row"),m=(0,r.g2)("v-container"),k=(0,r.g2)("v-footer");return(0,r.uX)(),(0,r.Wv)(k,{app:"",absolute:"true",color:"primary",class:"white--text"},{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(c,{align:"center",justify:"space-between"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{cols:"12",sm:"4",class:"d-flex align-center justify-center justify-sm-start"},{default:(0,r.k6)((()=>[(0,r.bF)(o,{size:"50",class:"mr-2"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.Lk)("img",{src:"/assets/logo.png",alt:"App Logo"},null,-1)]))),_:1}),(0,r.Lk)("span",Be,(0,l.v_)(n.appName),1)])),_:1}),(0,r.bF)(d,{cols:"12",sm:"4",class:"text-center"},{default:(0,r.k6)((()=>[(0,r.Lk)("a",Qe,[(0,r.bF)(u,{text:"",class:"footer-link",to:"/EULA.html"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)("EULA")]))),_:1})]),(0,r.Lk)("a",Ke,[(0,r.bF)(u,{text:"",class:"footer-link",to:"/privacy-policy.html"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)("Privacy Policy")]))),_:1})]),(0,r.Lk)("a",Ge,[(0,r.bF)(u,{text:"",class:"footer-link",to:"/terms-of-service.html"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("Terms of Service")]))),_:1})])])),_:1}),(0,r.bF)(d,{cols:"12",class:"text-center mt-2"},{default:(0,r.k6)((()=>[(0,r.Lk)("small",null,"© "+(0,l.v_)((new Date).getFullYear())+" "+(0,l.v_)(n.appName)+". All Rights Reserved.",1)])),_:1})])),_:1})])),_:1})])),_:1})}var ze={name:"AppFooter",data(){return{appName:"FYNIX.PRO"}}};const Ye=(0,k.A)(ze,[["render",Je],["__scopeId","data-v-25b437ed"]]);var Ze=Ye,et={name:"App",components:{NavBar:p,NetworkHandler:v,TaskFilter:q,KanbanBoard:A,TaskEdit:M,LoginForm:K,TaskInbox:pe,SettingsEdit:Ee,StatisticsTeam:Re,TaskAuction:He,AppFooter:Ze},data(){return{deferredPrompt:null,teamData:[],taskStorage:null,teams:null,users:null,taskList:null,isEditingTask:null,currentPage:"login",loginUser:null,networkRequests:[],server_changeLog:[]}},mounted(){window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),this.deferredPrompt=e;const t=document.getElementById("install-button");t&&(t.style.display="block")}));const e=document.getElementById("install-button");e&&e.addEventListener("click",(async()=>{if(this.deferredPrompt){this.deferredPrompt.prompt();const{outcome:t}=await this.deferredPrompt.userChoice;"accepted"===t?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),this.deferredPrompt=null,e.style.display="none"}}))},methods:{async fetchData(){const e=await fetch("https://jsonplaceholder.typicode.com/posts");this.data=await e.json()},pushNetworkRequests(e,t=null){this.networkRequests.push({action:e,data:t})},updateTaskList(e){this.taskList=e},handleCreateNewTask(){this.isEditingTask=" "},updateIsEditingTask(e){this.isEditingTask=e},isCurrentPage(e){return e==this.currentPage}}};const tt=(0,k.A)(et,[["render",i],["__scopeId","data-v-7dff3a06"]]);var at=tt,st=a(4825),rt=(a(5524),a(2938)),nt=a(3379),it=a(6876);const lt=(0,st.$N)({components:rt,directives:nt});(0,s.Ef)(at).directive("drop",{beforeMount(e,t){e.addEventListener("drop",t.value)},unmounted(e){e.removeEventListener("drop",e.dropHandler)}}).use(lt).component("VueDatepicker",it.A).mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,n){if(!s){var i=1/0;for(u=0;u<e.length;u++){s=e[u][0],r=e[u][1],n=e[u][2];for(var l=!0,o=0;o<s.length;o++)(!1&n||i>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[o])}))?s.splice(o--,1):(l=!1,n<i&&(i=n));if(l){e.splice(u--,1);var d=r();void 0!==d&&(t=d)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,r,n]}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,n,i=s[0],l=s[1],o=s[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(o)var u=o(a)}for(t&&t(s);d<i.length;d++)n=i[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},s=self["webpackChunkvue_pwa_example"]=self["webpackChunkvue_pwa_example"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(8604)}));s=a.O(s)})();
//# sourceMappingURL=app.fb30fcba.js.map